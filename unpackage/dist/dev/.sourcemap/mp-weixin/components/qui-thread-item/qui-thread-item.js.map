{"version":3,"sources":["webpack:///E:/wamp/www/hi-hupai-wechat-pro/components/qui-thread-item/qui-thread-item.vue?775b","webpack:///E:/wamp/www/hi-hupai-wechat-pro/components/qui-thread-item/qui-thread-item.vue?a2a1","webpack:///E:/wamp/www/hi-hupai-wechat-pro/components/qui-thread-item/qui-thread-item.vue?915b","webpack:///E:/wamp/www/hi-hupai-wechat-pro/components/qui-thread-item/qui-thread-item.vue?79cd","uni-app:///components/qui-thread-item/qui-thread-item.vue"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAA4H;AAC5H;AACmE;AACL;;;AAG9D;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,qFAAM;AACR,EAAE,0FAAM;AACR,EAAE,mGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,8FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,iQAEN;AACP,KAAK;AACL;AACA,aAAa,8LAEN;AACP,KAAK;AACL;AACA,aAAa,oPAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC1DA;AAAA;AAAA;AAAA;AAAymB,CAAgB,moBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACgF7nB;AACA;AACA,mE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gBAEA,EACA,SACA,eADA,EAEA,oBAFA,CADA,EAQA,SACA,UACA,YADA,EAEA,8BACA,UACA,CAJA,EADA,EAOA,kBACA,sBADA,EAEA,UAFA,EAPA,EAWA,gBACA,sBADA,EAEA,YAFA,EAXA,EARA,EAwBA,IAxBA,kBAwBA,CACA,SACA,cADA,EACA;AACA,sBAFA,EAEA;AACA,oBAHA,EAGA;AACA,6BAJA,EAKA,eALA,EAMA,eANA,EAOA,WAPA,CAOA;AAPA,MASA,CAlCA,EAmCA,WACA;AACA,gBAFA,wBAEA,EAFA,EAEA,CACA,0BACA,iBACA,2EADA,IAGA,CAPA,EAQA;AACA,aATA,qBASA,EATA,EASA,CACA,cACA,OACA,CACA,iBACA,8CADA,IAGA,CAhBA,EAiBA;AACA,cAlBA,sBAkBA,EAlBA,EAkBA,CACA,cACA,OACA,CACA,iBACA,8CADA,IAGA,CAzBA,EA0BA;AACA,cA3BA,sBA2BA,EA3BA,EA2BA,CACA,4BACA,cACA,OACA,CACA,iBACA,8CADA,IAGA,CAnCA,EA2CA;AACA,UA5CA,oBA4CA,CACA,gCACA,CA9CA,EA+CA;AACA,SAhDA,mBAgDA,CACA;AACA,KAlDA;AAmDA;AACA,iBApDA,yBAoDA,EApDA,EAoDA,OApDA,EAoDA,OApDA,EAoDA,KApDA,EAoDA;AACA;AACA;AACA,qBADA;AAEA,2CAFA;;;AAKA;;;;;AAKA;AACA;AACA;AACA,uBADA;AAEA,gBAFA,EADA;;AAKA,iCALA;;AAOA;AACA;AACA,OAFA;AAGA,KA3EA;AA4EA;AACA,mBA7EA,2BA6EA,KA7EA,EA6EA;AACA;AACA;AACA;AACA;AACA,KAlFA;AAmFA;AACA,gBApFA,wBAoFA,EApFA,EAoFA;AACA;AACA,0CADA;;AAGA;AACA,KAzFA;AA0FA;AACA,oBA3FA,4BA2FA,EA3FA,EA2FA;AACA;AACA;AACA,qBADA;AAEA,2CAFA;;;AAKA;;;;;AAKA;;AAEA;AACA;AACA;;;;;;;;;;;;;;;AAeA,KA1HA;AA2HA,eA3HA,uBA2HA,IA3HA,EA2HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KApIA,EAnCA,E","file":"components/qui-thread-item/qui-thread-item.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./qui-thread-item.vue?vue&type=template&id=1f2bd6e2&\"\nvar renderjs\nimport script from \"./qui-thread-item.vue?vue&type=script&lang=js&\"\nexport * from \"./qui-thread-item.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/qui-thread-item/qui-thread-item.vue\"\nexport default component.exports","export * from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./qui-thread-item.vue?vue&type=template&id=1f2bd6e2&\"","var components\ntry {\n  components = {\n    quiContent: function() {\n      return import(\n        /* webpackChunkName: \"components/qui-content/qui-content\" */ \"@/components/qui-content/qui-content.vue\"\n      )\n    },\n    uniPopup: function() {\n      return import(\n        /* webpackChunkName: \"components/uni-popup/uni-popup\" */ \"@/components/uni-popup/uni-popup.vue\"\n      )\n    },\n    quiShare: function() {\n      return import(\n        /* webpackChunkName: \"components/qui-share/qui-share\" */ \"@/components/qui-share/qui-share.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.handleGroup(_vm.thread.user && _vm.thread.user.groups)\n  var m1 = _vm.handleGroup(\n    _vm.thread.question && _vm.thread.question.beUser\n      ? _vm.thread.question.beUser.groups\n      : []\n  )\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        m1: m1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./qui-thread-item.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./qui-thread-item.vue?vue&type=script&lang=js&\"","<template>\n  <view class=\"thread\">\n    <qui-content\n      :ref=\"'thread-' + currentindex\"\n      :currentindex=\"currentindex\"\n      :pay-status=\"(thread.price > 0 && thread.paid) || thread.price == 0\"\n      :user-name=\"thread.user ? thread.user.username : ''\"\n      :theme-image=\"thread.user ? thread.user.avatarUrl : ''\"\n      :post-goods=\"thread.firstPost.postGoods ? thread.firstPost.postGoods : ''\"\n      :is-real=\"thread.user ? thread.user.isReal : false\"\n      :theme-btn=\"thread.canHide || ''\"\n      :theme-reply-btn=\"thread.canReply || ''\"\n      :user-groups=\"handleGroup(thread.user && thread.user.groups)\"\n      :user-answer-groups=\"\n        handleGroup(thread.question && thread.question.beUser ? thread.question.beUser.groups : [])\n      \"\n      :answer-image=\"\n        thread.question && thread.question.beUser ? thread.question.beUser.avatarUrl : ''\n      \"\n      :theme-time-answer=\"thread.question && thread.question.answered_at\"\n      :theme-time=\"thread.createdAt\"\n      :theme-content=\"thread.type == 1 ? thread.title : thread.firstPost.summary\"\n      :thread-type=\"thread.type\"\n      :them-pay-btn=\"thread.price > 0 || thread.attachmentPrice > 0\"\n      :media-url=\"thread.threadVideo && thread.threadVideo.media_url\"\n      :is-great=\"thread.firstPost.isLiked\"\n      :theme-like=\"thread.firstPost.likeCount\"\n      :theme-comment=\"thread.postCount - 1\"\n      :tags=\"[thread.category]\"\n      :images-list=\"thread.firstPost.images\"\n      :theme-essence=\"thread.isEssence\"\n      :video-width=\"thread.threadVideo && thread.threadVideo.width\"\n      :video-height=\"thread.threadVideo && thread.threadVideo.height\"\n      :video-id=\"thread.threadVideo && thread.threadVideo._jv.id\"\n      :cover-image=\"thread.threadVideo && thread.threadVideo.cover_url\"\n      :duration=\"thread.threadVideo && thread.threadVideo.duration\"\n      :is-deleted=\"thread.isDeleted\"\n      :questions-name=\"thread.user.username\"\n      :be-ask-name=\"\n        thread.question && thread.question.beUser ? thread.question.beUser.username : ''\n      \"\n      :question-content=\"thread.question && thread.question.content\"\n      :add-ask=\"thread.question && thread.question.is_answer\"\n      :onlooker-number=\"thread.question && thread.question.onlooker_number\"\n      :free-ask=\"thread.question && thread.question.price == 0\"\n      :ask-price=\"thread.question && thread.question.price\"\n      :ask-content=\"thread.question && thread.question.content\"\n      :onlooker-unit-price=\"thread.question && thread.question.onlooker_unit_price\"\n      :on-looker=\"thread.question && thread.question.onlooker_unit_price == 0\"\n      :thread-position=\"\n        thread.location ? [thread.location, thread.address, thread.longitude, thread.latitude] : []\n      \"\n      :thread-audio=\"thread.threadAudio\"\n      @click=\"handleClickShare(thread._jv.id)\"\n      @handleIsGreat=\"\n        handleIsGreat(\n          thread.firstPost._jv.id,\n          thread.firstPost.canLike,\n          thread.firstPost.isLiked,\n          currentindex,\n        )\n      \"\n      @commentClick=\"commentClick(thread._jv.id)\"\n      @answeClick=\"answeClick(thread.user._jv.id)\"\n      @beAskClick=\"beAskClick(thread.question.beUser.id)\"\n      @contentClick=\"contentClick(thread._jv.id)\"\n      @backgroundClick=\"contentClick(thread._jv.id)\"\n      @headClick=\"headClick(thread.user._jv.id)\"\n      @videoPlay=\"handleVideoPlay\"\n    ></qui-content>\n    <uni-popup ref=\"popupContent\" type=\"bottom\">\n      <qui-share @close=\"cancel\" share-type=\"content\" :now-thread-id=\"nowThreadId\"></qui-share>\n    </uni-popup>\n  </view>\n</template>\n\n<script>\n// #ifdef H5\nimport wxshare from '@/mixin/wxshare-h5';\n// #endif\nimport forums from '@/mixin/forums';\nimport loginModule from '@/mixin/loginModule';\nimport { getCurUrl } from '@/utils/getCurUrl';\n\nexport default {\n  mixins: [\n    forums,\n    loginModule,\n    // #ifdef H5\n    wxshare,\n    // #endif\n  ],\n  props: {\n    thread: {\n      type: Object,\n      default: () => {\n        return {};\n      },\n    },\n    conversationId: {\n      type: [Number, String],\n      default: 0,\n    },\n    currentindex: {\n      type: [Number, String],\n      default: '0',\n    },\n  },\n  data() {\n    return {\n      isLiked: false, // 主题点赞状态\n      shareShow: false, // h5内分享提示信息\n      shareTitle: '', // h5内分享复制链接\n      shareBtn: 'icon-share1',\n      playIndex: null,\n      nowThreadId: '',\n      tabIndex: 0, // 选中标签栏的序列,默认显示第一个\n    };\n  },\n  methods: {\n    // 内容部分点击跳转到详情页\n    contentClick(id) {\n      this.$emit('toTopic', id);\n      uni.navigateTo({\n        url: `/topic/index?id=${id}&topicid=${this.conversationId}`,\n      });\n    },\n    // 点击头像调转到个人主页\n    headClick(id) {\n      if (id <= 0) {\n        return;\n      }\n      uni.navigateTo({\n        url: `/pages/profile/index?userId=${id}`,\n      });\n    },\n    // 点击用户名跳转提问者个人主页\n    answeClick(id) {\n      if (id <= 0) {\n        return;\n      }\n      uni.navigateTo({\n        url: `/pages/profile/index?userId=${id}`,\n      });\n    },\n    // 点击用户名跳转回答者个人主页\n    beAskClick(id) {\n      console.log('ididdidiidid');\n      if (id <= 0) {\n        return;\n      }\n      uni.navigateTo({\n        url: `/pages/profile/index?userId=${id}`,\n      });\n    },\n\n    // #ifdef H5\n    closeShare() {\n      this.shareShow = false;\n    },\n    // #endif\n\n    // 取消按钮\n    cancel() {\n      this.$refs.popupContent.close();\n    },\n    // 点赞调取用户信息取消弹框\n    close() {\n      this.$refs.auth.close();\n    },\n    // 内容部分点赞按钮点击事件\n    handleIsGreat(id, canLike, isLiked, index) {\n      if (!this.$store.getters['session/get']('isLogin')) {\n        uni.setStorage({\n          key: 'page',\n          data: getCurUrl(),\n        });\n        // #ifdef MP-WEIXIN\n        this.mpLoginMode();\n        // #endif\n        // #ifdef H5\n        this.h5LoginMode();\n        // #endif\n      }\n      const params = {\n        _jv: {\n          type: 'posts',\n          id,\n        },\n        isLiked: isLiked !== true,\n      };\n      this.$store.dispatch('jv/patch', params).then(() => {\n        this.$emit('greatCallBack', isLiked, index);\n      });\n    },\n    // 视频禁止同时播放\n    handleVideoPlay(index) {\n      if (this.playIndex !== index && this.playIndex !== null) {\n        this.$refs[`thread-${this.playIndex}`][0].pauseVideo();\n      }\n      this.playIndex = index;\n    },\n    // 内容部分点击评论跳到详情页\n    commentClick(id) {\n      uni.navigateTo({\n        url: `/topic/index?id=${id}`,\n      });\n      this.$emit('toTopic', id);\n    },\n    // 首页内容部分分享按钮弹窗\n    handleClickShare(id) {\n      if (!this.$store.getters['session/get']('isLogin')) {\n        uni.setStorage({\n          key: 'page',\n          data: getCurUrl(),\n        });\n        // #ifdef MP-WEIXIN\n        this.mpLoginMode();\n        // #endif\n        // #ifdef H5\n        this.h5LoginMode();\n        // #endif\n      }\n      // #ifdef MP-WEIXIN\n      this.$emit('handleClickShare', id);\n      this.nowThreadId = id;\n      this.$refs.popupContent.open();\n      // #endif\n      // #ifdef H5\n      const shareThread = this.$store.getters['jv/get'](`threads/${id}`);\n      if (shareThread.type === 1) {\n        this.shareTitle = shareThread.title;\n      } else {\n        this.shareTitle = shareThread.firstPost.summaryText;\n      }\n      this.h5Share({\n        title: this.shareTitle,\n        id,\n        url: 'pages/topic/index',\n      });\n      // #endif\n    },\n    handleGroup(data) {\n      let groups = [];\n      if (data && data.length > 0) {\n        groups = data.filter(item => item.isDisplay);\n      }\n      if (groups.length > 0) {\n        return [groups[0]];\n      }\n      return [];\n    },\n  },\n};\n</script>\n"],"sourceRoot":""}