{"version":3,"sources":["webpack:///E:/wamp/www/hi-hupai-wechat-pro/components/qui-footer/qui-footer.vue?7b60","webpack:///E:/wamp/www/hi-hupai-wechat-pro/components/qui-footer/qui-footer.vue?6686","webpack:///E:/wamp/www/hi-hupai-wechat-pro/components/qui-footer/qui-footer.vue?bb06","webpack:///E:/wamp/www/hi-hupai-wechat-pro/components/qui-footer/qui-footer.vue?3729","uni-app:///components/qui-footer/qui-footer.vue","webpack:///E:/wamp/www/hi-hupai-wechat-pro/components/qui-footer/qui-footer.vue?8226","webpack:///E:/wamp/www/hi-hupai-wechat-pro/components/qui-footer/qui-footer.vue?dfa9"],"names":[],"mappings":"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;;AAMA;AACA;AACA;AACA,wCADA;AAEA,2BAFA;AAGA,sBAHA;AAIA,iBAJA;;AAMA;AACA;AACA;AACA,6CADA;AAEA,+BAFA;AAGA,2BAHA;AAIA,iBAJA;;AAMA;;AAEA;;AAEA;AACA,KA3HA;AA4HA;AACA,WA7HA,mBA6HA,QA7HA,EA6HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAXA;AAYA,KA1IA;AA2IA;AACA,eA5IA,uBA4IA,IA5IA,EA4IA;AACA;AACA;AACA;AACA,iEADA;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0IADA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA;AAGA;AACA;AACA;AACA,SAHA;AAIA;AACA;AACA;AACA,gDADA;AAEA,sBAFA;;AAIA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WALA;AAMA;AACA,SAnBA;;AAqBA;AACA;AACA;AACA;AACA;AACA,sBADA;AAEA;AACA;AACA;AACA,0CADA;AAEA,wDAFA;;AAIA,eARA;;AAUA;AACA;AACA,SAhBA,EAgBA,IAhBA;AAiBA;AACA,OA5DA,MA4DA;AACA;AACA;AACA;AACA,SAFA;AAGA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA,oBADA;AAEA;AACA;AACA;AACA,0BADA;;AAGA,aAPA;;AASA;AACA,SAhBA;AAiBA,OAtBA,MAsBA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA,kBADA;;AAGA;AACA;AACA,KAjQA;AAkQA,oBAlQA,8BAkQA,EAlQA;AAmQA;AACA,UApQA,oBAoQA;AACA;AACA,KAtQA;AAuQA,SAvQA,mBAuQA;AACA;AACA,KAzQA;AA0QA,iBA1QA,2BA0QA;AACA;AACA;AACA;AACA,gEADA;;AAGA,OAJA,MAIA;;AAEA;AACA;AACA;;;;;;;;AAQA;AACA,KA7RA;AA8RA,qBA9RA,+BA8RA;AACA;AACA,KAhSA;;AAkSA,eAlSA,yBAkSA;AACA;AACA,KApSA,GAlHA,E;;;;;;;;;;;;;AC/FA;AAAA;AAAA;AAAA;AAAsmC,CAAgB,glCAAG,EAAC,C;;;;;;;;;;;ACA1nC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/qui-footer/qui-footer.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./qui-footer.vue?vue&type=template&id=9192e038&\"\nvar renderjs\nimport script from \"./qui-footer.vue?vue&type=script&lang=js&\"\nexport * from \"./qui-footer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./qui-footer.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/qui-footer/qui-footer.vue\"\nexport default component.exports","export * from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./qui-footer.vue?vue&type=template&id=9192e038&\"","var components\ntry {\n  components = {\n    quiIcon: function() {\n      return import(\n        /* webpackChunkName: \"components/qui-icon/qui-icon\" */ \"@/components/qui-icon/qui-icon.vue\"\n      )\n    },\n    uniPopup: function() {\n      return import(\n        /* webpackChunkName: \"components/uni-popup/uni-popup\" */ \"@/components/uni-popup/uni-popup.vue\"\n      )\n    },\n    quiToast: function() {\n      return import(\n        /* webpackChunkName: \"components/qui-toast/qui-toast\" */ \"@/components/qui-toast/qui-toast.vue\"\n      )\n    },\n    quiAuthPhone: function() {\n      return import(\n        /* webpackChunkName: \"components/qui-auth-phone/qui-auth-phone\" */ \"@/components/qui-auth-phone/qui-auth-phone.vue\"\n      )\n    },\n    quiUploader: function() {\n      return import(\n        /* webpackChunkName: \"components/qui-uploader/qui-uploader\" */ \"@/components/qui-uploader/qui-uploader.vue\"\n      )\n    },\n    quiUploadVideo: function() {\n      return import(\n        /* webpackChunkName: \"components/qui-upload-video/qui-upload-video\" */ \"@/components/qui-upload-video/qui-upload-video.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.i18n.t(\"home.cancel\")\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./qui-footer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./qui-footer.vue?vue&type=script&lang=js&\"","<template>\n  <view @touchmove.stop.prevent=\"\">\n    <view\n      class=\"ft\"\n      :style=\"{\n        paddingBottom: bottom + 'rpx',\n      }\"\n    >\n      <view\n        :class=\"['ft-box', { active: index === footerIndex }, `ft-box${item.id}`]\"\n        v-for=\"(item, index) in tabs\"\n        :key=\"index\"\n        @click=\"select(item, index)\"\n      >\n        <qui-icon\n          class=\"ft-box-icon\"\n          :name=\"item.tabsIcon\"\n          :size=\"item.tabsIcon === 'icon-faxian' ? 38 : 36\"\n          :class=\"redCircle && item.id === 3 ? 'message' : ''\"\n        ></qui-icon>\n        <view class=\"ft-box-content\">\n          {{ item.tabsName }}\n        </view>\n      </view>\n\n      <view class=\"ft-box-spacal\">\n        <image class=\"ft-box-spacal-icon\" src=\"@/static/published.svg\" @click=\"footerOpen\"></image>\n      </view>\n    </view>\n    <uni-popup ref=\"popup\" type=\"bottom\">\n      <view class=\"popup-share\">\n        <view\n          class=\"popup-share-content\"\n          :class=\"bottomDataLength > 4 ? 'popup-share-content-inner' : ''\"\n        >\n          <view v-for=\"(item, index) in bottomData\" :key=\"index\" class=\"popup-share-content-box\">\n            <view class=\"popup-share-content-image\">\n              <view class=\"popup-share-box\" @click=\"handleClick(item)\">\n                <qui-icon class=\"content-image\" :name=\"item.icon\" size=\"56\" color=\"#777\"></qui-icon>\n              </view>\n            </view>\n            <text class=\"popup-share-content-text\">{{ item.text }}</text>\n          </view>\n        </view>\n        <view class=\"popup-share-content-space\"></view>\n        <text class=\"popup-share-btn\" @click=\"cancel('share')\">{{ i18n.t('home.cancel') }}</text>\n      </view>\n    </uni-popup>\n    <uni-popup ref=\"surePopup\" type=\"center\">\n      <uni-popup-dialog\n        type=\"warn\"\n        :content=\"sureTip\"\n        :before-close=\"true\"\n        @close=\"handleClickCancel\"\n        @confirm=\"handleClickOk\"\n      ></uni-popup-dialog>\n    </uni-popup>\n    <qui-toast ref=\"toast\"></qui-toast>\n    <!-- #ifdef MP-WEIXIN -->\n    <uni-popup ref=\"authPhone\" type=\"bottom\">\n      <qui-auth-phone @closeDialog=\"closeDialog\"></qui-auth-phone>\n    </uni-popup>\n    <!-- #endif -->\n    <view v-show=\"false\">\n      <qui-uploader\n        :url=\"`${url}api/attachments`\"\n        :form-data=\"formData\"\n        name=\"file\"\n        :async-clear=\"true\"\n        ref=\"upload\"\n        :count=\"uploadImgMax\"\n        :choose-type=\"0\"\n        @uploadClick=\"uploadClick\"\n      ></qui-uploader>\n      <qui-upload-video\n        ref=\"uploadVideo\"\n        :url=\"url\"\n        @uploadVideo=\"uploadVideo\"\n        :choose-type=\"0\"\n      ></qui-upload-video>\n    </view>\n  </view>\n</template>\n<script>\nimport forums from '@/mixin/forums';\nimport user from '@/mixin/user';\nimport { mapState, mapMutations } from 'vuex';\nimport loginModule from '@/mixin/loginModule';\nimport uniPopupDialog from '@/components/uni-popup/uni-popup-dialog';\nimport { DISCUZ_REQUEST_HOST } from '@/common/const';\n// #ifdef H5\nimport appCommonH from '@/utils/commonHelper';\n// #endif\nlet uploadCountLoop = null;\n\nexport default {\n  components: { uniPopupDialog },\n  mixins: [\n    forums,\n    user,\n    loginModule,\n    // #ifdef H5\n    appCommonH,\n    // #endif\n  ],\n  props: {\n    bottom: {\n      type: Number,\n      default: 0,\n    },\n  },\n  data: () => {\n    return {\n      sel: 1,\n      type: '',\n      tabs: [\n        {\n          tabsName: 'home.tabsCircle',\n          tabsIcon: 'icon-home',\n          id: 1,\n          url: '/pages/home/index',\n          // routePath: 'pages/home/index', // 仅用作标识不用来跳转\n        },\n        {\n          tabsName: 'home.find',\n          tabsIcon: 'icon-faxian',\n          id: 2,\n          url: '/pages/find/index',\n        },\n        {\n          tabsName: 'home.tabsNews',\n          tabsIcon: 'icon-message',\n          id: 3,\n          url: '/pages/notice/index',\n          // routePath: 'pages/notice/index', // 仅用作标识不用来跳转\n        },\n        {\n          tabsName: 'home.tabsMy',\n          tabsIcon: 'icon-mine',\n          id: 4,\n          url: '/pages/my/index',\n          // routePath: 'pages/my/index', // 仅用作标识不用来跳转\n        },\n      ],\n      bottomData: [],\n      bottomDataLength: 0,\n      isTabBar: [0], // 禁止页面第二次加载\n      sureType: '', // 二次确认类型\n      sureTip: '', // 二次确认提示\n\n      url: '', // 视频url\n      formData: {}, // 图片请求data\n      uploadStatus: true,\n      isWeixin: '', // 是否是微信浏览器内\n      isiOS: '',\n      uploadImgMax: 9, // 首页上传图片时限制最大数量\n    };\n  },\n  computed: {\n    ...mapState({\n      getCategoryId: state => state.session.categoryId,\n      getCategoryIndex: state => state.session.categoryIndex,\n      footerIndex: state =>\n        state.footerTab.footerIndex ? parseInt(state.footerTab.footerIndex, 10) : 0,\n    }),\n    redCircle() {\n      return this.user.unreadNotifications;\n    },\n  },\n  created() {\n    const len = getCurrentPages().length;\n    if (len > 0) {\n      // #ifdef MP-WEIXIN\n      const currentRout = getCurrentPages()[len - 1].is;\n      const str = currentRout && currentRout.split('pages/')[1];\n      if (str) {\n        this.tabs = this.tabs.map(tab => {\n          const tabsName = this.i18n.t(tab.tabsName);\n          if (tab.url && tab.url.includes(str)) {\n            this.sel = tab.id;\n          }\n          const newTab = { ...tab, tabsName };\n          return newTab;\n        });\n      }\n      // #endif\n      // #ifdef H5\n      const currentRouts = getCurrentPages()[len - 1].route;\n      const strs = currentRouts && currentRouts.split('pages/')[1];\n      if (strs) {\n        this.tabs = this.tabs.map(tab => {\n          const tabsName = this.i18n.t(tab.tabsName);\n          if (tab.url && tab.url.includes(strs)) {\n            this.sel = tab.id;\n          }\n          const newTab = { ...tab, tabsName };\n          return newTab;\n        });\n      }\n      this.isWeixin = appCommonH.isWeixin().isWeixin;\n      this.isiOS = appCommonH.isWeixin().isiOS;\n      // #endif\n    }\n    // 上传图片\n    this.url = DISCUZ_REQUEST_HOST;\n    this.formData = {\n      type: 1,\n    };\n  },\n  methods: {\n    select(item, index) {\n      if (this.$store.getters['session/get']('isLogin')) {\n        this.setFooterIndex(parseInt(index, 10));\n      }\n      this.$emit('click', item, index, this.isTabBar);\n      this.sel = item.id;\n    },\n    ...mapMutations({\n      setFooterIndex: 'footerTab/SET_FOOTERINDEX',\n    }),\n    // 首页底部发帖按钮弹窗\n    footerOpen() {\n      if (!this.$store.getters['session/get']('isLogin')) {\n        uni.setStorage({\n          key: 'page',\n          data: '/pages/home/index',\n        });\n        // #ifdef MP-WEIXIN\n        this.mpLoginMode();\n        // #endif\n        // #ifdef H5\n        this.h5LoginMode();\n        // #endif\n      }\n      if (this.forums.other.publish_need_real_name) {\n        this.sureTip = this.i18n.t('home.needRealname');\n        this.$refs.surePopup.open();\n        this.sureType = '0';\n        return;\n      }\n      if (this.forums.other.publish_need_bind_phone) {\n        this.sureTip = this.i18n.t('home.needPhone');\n        this.$refs.surePopup.open();\n        this.sureType = '1';\n        return;\n      }\n\n      if (!this.forums.other.can_create_thread_in_category) {\n        this.$refs.toast.show({ message: this.i18n.t('home.noPostingPermission') });\n        return;\n      }\n\n      if (this.getCategoryId) {\n        const category = this.$store.getters['jv/get'](`categories/${this.getCategoryId}`);\n        if (!category.canCreateThread) {\n          this.$refs.toast.show({ message: this.i18n.t('home.noPostingPermission') });\n        }\n      }\n\n      if (\n        !this.forums.other.can_create_thread &&\n        !this.forums.other.can_create_thread_long &&\n        !this.forums.other.can_create_thread_video &&\n        !this.forums.other.can_create_thread_image &&\n        !this.forums.other.can_create_thread_question &&\n        !this.forums.other.can_create_thread_audio &&\n        !this.forums.other.can_create_thread_goods\n      ) {\n        this.$refs.toast.show({ message: this.i18n.t('home.noPostingPermission') });\n        return;\n      }\n      this.bottomData = [];\n      if (this.forums.other.can_create_thread) {\n        this.bottomData.push({\n          text: this.i18n.t('home.word'),\n          icon: 'icon-word',\n          name: 'text',\n          type: 0,\n        });\n      }\n      if (this.forums.other.can_create_thread_long) {\n        this.bottomData.push({\n          text: this.i18n.t('home.invitation'),\n          icon: 'icon-post',\n          name: 'post',\n          type: 1,\n        });\n      }\n      if (this.forums.other.can_create_thread_image) {\n        this.bottomData.push({\n          text: this.i18n.t('home.picture'),\n          icon: 'icon-img',\n          name: 'image',\n          type: 3,\n        });\n      }\n      if (this.forums.other.can_create_thread_audio) {\n        this.bottomData.push({\n          text: this.i18n.t('home.audio'),\n          icon: 'icon-record',\n          name: 'audio',\n          type: 4,\n        });\n      }\n      if (this.forums.other.can_create_thread_video) {\n        this.bottomData.push({\n          text: this.i18n.t('home.video'),\n          icon: 'icon-video',\n          name: 'video',\n          type: 2,\n        });\n      }\n      if (this.forums.other.can_create_thread_goods) {\n        this.bottomData.push({\n          text: this.i18n.t('home.good'),\n          icon: 'icon-good',\n          name: 'good',\n          type: 6,\n        });\n      }\n      if (this.forums.other.can_create_thread_question) {\n        this.bottomData.push({\n          text: this.i18n.t('home.questions'),\n          icon: 'icon-question',\n          name: 'questions',\n          type: 5,\n        });\n      }\n\n      this.bottomDataLength = this.bottomData.length;\n\n      this.$refs.popup.open();\n    },\n    // 排序\n    compare(property) {\n      return (a, b) => {\n        const value1 = a.data.attributes[property];\n        const value2 = b.data.attributes[property];\n        // return value1 - value2;\n        if (value1 > value2) {\n          return 1;\n        }\n        if (value1 < value2) {\n          return -1;\n        }\n        return 0;\n      };\n    },\n    // 首页底部发帖点击事件跳转\n    handleClick(item) {\n      let url;\n      if (item.type === 6) {\n        uni.navigateTo({\n          url: `/pages/topic/parse-goods?type=${item.type}`,\n        });\n        this.$refs.popup.close();\n        return;\n      }\n\n      if (this.isWeixin && this.isiOS && item.type === 4) {\n        this.$refs.toast.show({ message: this.i18n.t('discuzq.post.IOSWxNotRecordAudio') });\n        return;\n      }\n      if (item.type === 5) {\n        uni.navigateTo({\n          url: `/pages/user/at-member?name=select&categoryId=${this.getCategoryId}&categoryIndex=${this.getCategoryIndex}`,\n        });\n        this.$refs.popup.close();\n        return;\n      }\n      if (this.footerIndex === 0) {\n        url = `/topic/post?type=${item.type}&categoryId=${this.getCategoryId}&categoryIndex=${this.getCategoryIndex}`;\n      }\n      if (item.type === 3) {\n        if (!this.forums.other.can_upload_images) {\n          this.$refs.toast.show({ message: this.i18n.t('home.NoPermissionToUploadPictures') });\n          return;\n        }\n        // 当选择图片帖时\n        this.$nextTick(() => {\n          this.$refs.upload.uploadClick();\n        });\n        const uploadData = [];\n        // let errorStatus = false;\n        let errorCount = 0;\n        let chooseLength = 1;\n        uni.$on('uploadLength', data => {\n          chooseLength = data;\n        });\n        uni.$on('uploadFail', data => {\n          console.log(data);\n          errorCount += 1;\n        });\n        let uploadDataLength = 0;\n        uni.$on('uploadOver', data => {\n          uni.showLoading({\n            title: this.i18n.t('core.loading'),\n            mask: true,\n          });\n          if (this.footerIndex === 0) {\n            url = `/topic/post?type=${item.type}&categoryId=${this.getCategoryId}&categoryIndex=${this.getCategoryIndex}`;\n          } else {\n            url = `/topic/post?type=${item.type}`;\n          }\n          uploadData.push(data.data);\n          console.log(data, uploadData, '长度');\n          uploadData.map((val, key) => {\n            if (val.data.attributes.order > this.uploadImgMax) {\n              uploadData.splice(key, 1);\n            }\n            return uploadData;\n          });\n          uploadDataLength = data.times;\n        });\n\n        uploadCountLoop = setInterval(() => {\n          const sum = uploadDataLength + errorCount;\n          if (sum >= chooseLength) {\n            // console.log(uploadData.sort(this.compare('order')), '--------');\n            uni.navigateTo({\n              url,\n              success: res => {\n                // 通过eventChannel向被打开页面传送数据\n                res.eventChannel.emit(\n                  'acceptDataFromOpenerPage',\n                  uploadData.sort(this.compare('order')),\n                );\n              },\n            });\n            clearInterval(uploadCountLoop);\n          }\n        }, 1000);\n        this.cancel();\n      } else if (item.type === 2) {\n        // 当选择视屏帖时\n        this.$nextTick(() => {\n          this.$refs.uploadVideo.uploadVideo();\n        });\n        uni.$on('uploadVideoOver', data => {\n          if (this.footerIndex === 0) {\n            url = `/topic/post?type=${item.type}&categoryId=${this.getCategoryId}&categoryIndex=${this.getCategoryIndex}`;\n          } else {\n            url = `/topic/post?type=${item.type}`;\n          }\n          uni.navigateTo({\n            url,\n            success: res => {\n              // 通过eventChannel向被打开页面传送数据\n              res.eventChannel.emit('acceptDataFromOpenerPage', {\n                data,\n              });\n            },\n          });\n          this.cancel();\n        });\n      } else {\n        if (this.footerIndex === 0) {\n          url = `/topic/post?type=${item.type}&categoryId=${this.getCategoryId}&categoryIndex=${this.getCategoryIndex}`;\n        } else {\n          url = `/topic/post?type=${item.type}`;\n        }\n        uni.navigateTo({\n          url,\n        });\n        this.cancel();\n      }\n    },\n    jumpAndUploadImg() {},\n    // 取消按钮\n    cancel() {\n      this.$refs.popup.close();\n    },\n    close() {\n      this.$refs.auth.close();\n    },\n    handleClickOk() {\n      this.$refs.surePopup.close();\n      if (this.sureType === '0') {\n        uni.navigateTo({\n          url: `/pages/modify/realname?id=${this.user.id}`,\n        });\n      } else if (this.sureType === '1') {\n        // #ifdef MP-WEIXIN\n        if (this.user && this.user.mobile === '') {\n          this.$refs.authPhone.open();\n        }\n        // #endif\n        // #ifdef H5\n        // 删除类型为主题评论\n        uni.navigateTo({\n          url: `/pages/modify/setphon?id=${this.user.id}`,\n        });\n        // #endif\n      }\n    },\n    handleClickCancel() {\n      this.$refs.surePopup.close();\n    },\n    // #ifdef MP-WEIXIN\n    closeDialog() {\n      this.$refs.authPhone.close();\n    },\n    // #endif\n  },\n};\n</script>\n<style lang=\"scss\">\n@import '@/styles/base/variable/global.scss';\n@import '@/styles/base/theme/fn.scss';\n/* #ifdef H5 */\n$top: -6rpx;\n/* #endif */\n\n/* #ifdef MP-WEIXIN */\n$top: -9rpx;\n/* #endif */\n.ft {\n  // position: absolute;\n  position: fixed;\n  bottom: 0;\n  z-index: 100;\n  display: flex;\n  width: 100%;\n  // height: 100rpx;\n  background-color: --color(--qui-BG-2);\n  box-shadow: 0 -3px 6px rgba(0, 0, 0, 0.05);\n}\n.ft-box {\n  position: relative;\n  width: 20%;\n  height: 100rpx;\n  padding-top: 15rpx;\n  font-size: $fg-f3;\n  text-align: center;\n  box-sizing: border-box;\n}\n.ft-box3 {\n  margin-left: 150rpx;\n}\n.ft-box-content {\n  color: --color(--qui-FC-777);\n}\n.ft-box-spacal {\n  position: absolute;\n  top: -5rpx;\n  left: 50%;\n  width: 105rpx;\n  height: 105rpx;\n  margin-left: -52rpx;\n  border-radius: 50%;\n  box-shadow: 0 -3px 6px rgba(0, 0, 0, 0.05);\n}\n.ft-box-spacal-icon {\n  position: relative;\n  width: 89rpx;\n  height: 89rpx;\n  margin: 8rpx 0 0 8rpx;\n}\n.ft-box.active,\n.ft-box.active .ft-box-content {\n  font-weight: bold;\n  color: --color(--qui-TAB);\n}\n.message {\n  position: relative;\n}\n.message:after {\n  position: absolute;\n  top: $top;\n  right: -6rpx;\n  width: 10rpx;\n  height: 10rpx;\n  background: --color(--qui-RED);\n  border-radius: 50%;\n  content: '';\n}\n.popup-share-content-inner {\n  height: auto;\n  overflow: hidden;\n  justify-content: flex-start;\n}\n.popup-share-content-inner .popup-share-content-box {\n  margin-bottom: 40rpx;\n  flex: 0 0 25%;\n}\n</style>\n","import mod from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./qui-footer.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./qui-footer.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1636533855223\n      var cssReload = require(\"G:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}