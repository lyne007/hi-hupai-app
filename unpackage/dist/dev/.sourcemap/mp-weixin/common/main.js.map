{"version":3,"sources":["uni-app:///main.js",null,"webpack:///E:/wamp/www/hi-hupai-wechat-pro/App.vue?3cd1","uni-app:///App.vue","webpack:///E:/wamp/www/hi-hupai-wechat-pro/App.vue?27cc","webpack:///E:/wamp/www/hi-hupai-wechat-pro/App.vue?98de"],"names":["allSettled","require","Promise","Vue","config","productionTip","App","mpType","prototype","$localeUse","localeUse","i18n","currentTheme","uni","getStorageSync","THEME_DEFAULT","$u","guid","light","dark","THEME_DARK","host","DISCUZ_REQUEST_HOST","event","mixin","app","store","data","siteInfoStat","evalscripts","JSLOADED","created","methods","$mount"],"mappings":"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","file":"common/main.js","sourcesContent":["import 'uni-pages';/* eslint-disable */\nimport Vue from 'vue';\nimport App from './App';\n// 导入配置好的国际化语言包\nimport { i18n, localeUse } from './locale';\nimport store from './store';\nimport guid from './utils/guid';\nimport mixin from './mixin/mixin';\nimport { THEME_DEFAULT, THEME_DARK, DISCUZ_REQUEST_HOST, SITE_PAY } from './common/const';\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// 兼容 allSettled 方法处理：https://www.npmjs.com/package/promise.allsettled\nconst allSettled = require('promise.allsettled');\n\nPromise.allSettled = Promise.allSettled || allSettled;\n\nVue.config.productionTip = false;\n\nApp.mpType = 'app';\n\nVue.prototype.$localeUse = localeUse;\n// 因为小程序识别不了模板文件中的 $t 等 vue-i18n 相关的语法 api，因此直接挂载到 vue 的原型上，直接使用\nVue.prototype.i18n = i18n;\nconst currentTheme = uni.getStorageSync('theme') || THEME_DEFAULT;\nconst $u = {\n  guid,\n  currentTheme,\n  light: () => THEME_DEFAULT,\n  dark: () => THEME_DARK,\n  host: () => DISCUZ_REQUEST_HOST,\n  event: new Vue(),\n};\nVue.prototype.$u = $u;\nVue.mixin(mixin);\nconst app = new Vue({\n  // 注入配置好的国际化语言配置\n  i18n,\n  store,\n  ...App,\n  data: function() {\n    return {\n      siteInfoStat: '',\n      evalscripts: [],\n      JSLOADED: [],\n    };\n  },\n  created() {\n\n\n\n\n\n\n\n  },\n  // watch: {\n  //   siteInfoStat: function(newVal, oldVal) {\n  //     this.siteInfoStat = newVal;\n  //     this.evalscript(this.siteInfoStat);\n  //   },\n  // },\n  methods: {\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  },\n});\napp.$mount();","var render, staticRenderFns, recyclableRender, components\nvar renderjs\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"App.vue\"\nexport default component.exports","import mod from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=script&lang=js&\"","<script>\n/* eslint-disable */\nimport '@/common/stat';\nimport { SITE_PAY, STORGE_GET_USER_TIME } from '@/common/const';\nimport Vue from 'vue';\n\nconst themeListeners = [];\n\nexport default {\n  data() {\n    return {\n      statisticsCode: '', // 统计代码\n    };\n  },\n  globalData: {\n    // #ifdef H5\n    appLoadedStatus: false,\n    // #endif\n    themeChanged(theme) {\n      Vue.prototype.$u.currentTheme = theme;\n      themeListeners.forEach(listener => {\n        listener(theme);\n      });\n      uni.setStorage({\n        key: 'theme',\n        data: theme,\n      });\n    },\n    watchThemeChange(listener) {\n      if (themeListeners.indexOf(listener) < 0) {\n        themeListeners.push(listener);\n      }\n    },\n    unWatchThemeChange(listener) {\n      const index = themeListeners.indexOf(listener);\n      if (index > -1) {\n        themeListeners.splice(index, 1);\n      }\n    },\n  },\n  async onLaunch() {\n    const init = async () => {\n      const forums = await this.$store.dispatch('jv/get', [\n        'forum',\n        {\n          params: {\n            include: 'users',\n          },\n        },\n      ]);\n      const userId = this.$store.getters['session/get']('userId');\n      let user = {};\n      if (userId) {\n        const params = {\n          include: 'groups,wechat',\n        };\n        user = await this.$store.dispatch('jv/get', [`users/${userId}`, { params }]);\n        uni.setStorageSync(STORGE_GET_USER_TIME, new Date().getTime());\n      }\n      this.statisticsCode = forums.set_site.site_stat;\n      uni.$emit('stat', {\n        statisticsCode: this.statisticsCode,\n      });\n      let currentPage = {};\n      const pages = getCurrentPages();\n      if (pages.length > 0) {\n          currentPage = pages[pages.length - 1];\n      }\n      if (forums.set_site.site_mode === SITE_PAY) {\n        // #ifndef H5\n        const res = uni.getSystemInfoSync();\n        if (res.platform === 'ios') {\n          this.$store.dispatch('forum/setError', { loading: false, code: 'dataerro' });\n          return;\n        }\n        // #endif\n        if (pages.length > 0) {\n          currentPage = pages[pages.length - 1];\n          if (currentPage.route === 'pages/user/pc-login') {\n            uni.redirectTo({\n              url: currentPage.__page__.fullPath,\n            });\n            return;\n          }\n          if (currentPage.route === 'pages/user/pc-relation') {\n            uni.redirectTo({\n              url: currentPage.__page__.fullPath,\n            });\n            return;\n          }\n          if (!user.paid && currentPage.route !== 'pages/site/info' && currentPage.route !== 'pages/site/partner-invite') {\n            uni.redirectTo({\n              url: '/pages/site/info',\n            });\n          }\n        } else if (!user.paid) {\n          uni.redirectTo({\n            url: '/pages/site/info',\n          });\n        }\n      }\n      // #ifdef H5\n      this.globalData.appLoadedStatus = true;\n      uni.$emit('apploaded');\n      // #endif\n      if (!this.$store.state.forum.error.code) {\n        this.$store.dispatch('forum/setError', { loading: false });\n      }\n    };\n    try {\n      await init();\n    } catch (errs) {\n      if (errs && errs.data && errs.data.errors) {\n        if (errs.data.errors[0].code === 'access_denied') {\n          this.$store.dispatch('session/logout').then(init);\n        } else {\n          this.$store.dispatch('forum/setError', {\n            loading: false,\n            ...errs.data.errors[0],\n          });\n        }\n      }\n    }\n  },\n\n  onShow(options) {\n    // 解决各类回调的兼容问题,验证码捕获captchaResult\n    // #ifdef MP-WEIXIN\n    if (!this.captchaTicketExpire) this.captchaTicketExpire = {};\n    if (options.scene === 1038 && options.referrerInfo.appId === 'wx5a3a7366fd07e119') {\n      const result = options.referrerInfo.extraData;\n      if (result && result.ret === 0) {\n        const theTicket = result.ticket;\n        if (!this.captchaTicketExpire[theTicket]) {\n          this.captchaTicketExpire[theTicket] = true;\n          this.$u.event.$emit('captchaResult', result);\n        }\n      } else {\n        this.$u.event.$emit('closeChaReault', result);\n        // 用户关闭了验证码\n      }\n    }\n    // #endif\n  },\n  onHide() {},\n  onPageNotFound(e) {\n    let url = '/pages/common/error';\n    if(/^\\/thread\\/\\d+$/i.test(e.path)) {\n      const matchs = e.path.match(/^\\/thread\\/(\\d+)$/i);\n      url = `/topic/index?id=${matchs[1]}`;\n    } else if(/^\\/user\\/\\d+$/i.test(e.path)) {\n      const matchs = e.path.match(/^\\/user\\/(\\d+)$/i);\n      url = `/pages/profile/index?userId=${matchs[1]}`;\n    } else if(e.path === '/site/partner-invite' && e.query.code) {\n        url = `/pages/site/partner-invite?code=${e.query.code}`;\n    } else if(/^\\/category\\/\\d+$/i.test(e.path)){\n      const matchs = e.path.match(/^\\/category\\/(\\d+)$/i);\n      url = `/?categoryId=${matchs[1]}`;\n    }\n\n    uni.redirectTo({url});\n  },\n};\n</script>\n\n<style lang=\"scss\">\n/* 每个页面公共css */\n@import '@/styles/base/reset.scss';\n</style>\n","import mod from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1636533855115\n      var cssReload = require(\"G:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}