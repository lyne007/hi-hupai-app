{"version":3,"sources":["uni-app:///main.js","webpack:///E:/wamp/www/hi-hupai-wechat-pro/pages/manage/invite.vue?2d01","webpack:///E:/wamp/www/hi-hupai-wechat-pro/pages/manage/invite.vue?e3fb","webpack:///E:/wamp/www/hi-hupai-wechat-pro/pages/manage/invite.vue?2396","webpack:///E:/wamp/www/hi-hupai-wechat-pro/pages/manage/invite.vue?556d","uni-app:///pages/manage/invite.vue","webpack:///E:/wamp/www/hi-hupai-wechat-pro/pages/manage/invite.vue?a8c4","webpack:///E:/wamp/www/hi-hupai-wechat-pro/pages/manage/invite.vue?ef21"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,gG;AACAA,UAAU,CAACC,eAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+H;AAC/H;AAC0D;AACL;AACsC;;;AAG3F;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,6FAAM;AACR,EAAE,sGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,iGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,8OAEN;AACP,KAAK;AACL;AACA,aAAa,wLAEN;AACP,KAAK;AACL;AACA,aAAa,sNAEN;AACP,KAAK;AACL;AACA,aAAa,0MAEN;AACP,KAAK;AACL;AACA,aAAa,8LAEN;AACP,KAAK;AACL;AACA,aAAa,wLAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC3FA;AAAA;AAAA;AAAA;AAAgmB,CAAgB,0nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACqGpnB;;AAEA,qF;;;;;;AAMA;AACA,sCADA;AAEA;AACA,iBADA,CAFA;;;;;;AASA,MATA,kBASA;AACA;AACA,gBADA,EACA;AACA,cAFA,EAEA;AACA;AACA,8DADA;AAEA,6DAFA;AAGA,gEAHA;AAIA,gEAJA,CAHA;AAQA;AACA,cATA,EASA;AACA,eAVA,EAUA;AACA;AACA;AACA,yCADA;AAEA,+BAFA;AAGA,kBAHA,EADA,CAXA;;;AAkBA,qBAlBA;AAmBA,kBAnBA,EAmBA;AACA,oBApBA,EAoBA;AACA,yBArBA,EAqBA;AACA,gBAtBA,EAsBA;AACA,kBAvBA,CAuBA;AAvBA;AAyBA,GAnCA;AAoCA,QApCA,oBAoCA;AACA;AACA;;;;;AAKA;AACA,2BADA;AAEA,iDAFA;;;AAKA,GAhDA;AAiDA;AACA,mBAlDA,6BAkDA,GAlDA,EAkDA;AACA;AACA;AACA;AACA,6CADA;AAEA,kEAFA;;AAIA;AACA;AACA,2CADA;AAEA,gEAFA;;AAIA,GA9DA;AA+DA;AACA,iBAhEA,6BAgEA;AACA;AACA,2CADA;AAEA,eAFA;;AAIA,GArEA;AAsEA;AACA;AACA,kBAFA,4BAEA;AACA;AACA;AACA,KALA;AAMA;AACA,iBAPA,2BAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAjCA;AAkCA;AACA,aAnCA,uBAmCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA3CA;AA4CA;AACA,aA7CA,uBA6CA;AACA;AACA,KA/CA,EAtEA;;AAuHA;AACA;AACA,iBAFA,yBAEA,MAFA,EAEA;AACA;AACA,gCADA;AAEA,oCAFA;AAGA,oCAHA;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OANA;AAOA,KAhBA;AAiBA;AACA,gBAlBA,0BAkBA;AACA;AACA,gCADA;;AAGA;AACA;AACA,KAxBA;AAyBA;AACA,eA1BA,uBA0BA,CA1BA,EA0BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAlCA;AAmCA;AACA,YApCA,sBAoCA;AACA;AACA,KAtCA;AAuCA;AACA,eAxCA,uBAwCA,IAxCA,EAwCA;AACA;AACA;AACA,wBADA,EADA;;AAIA,sBAJA;AAKA,2CALA;;AAOA;AACA;AACA,gCADA,EADA;;;AAKA;AACA;AACA,sCADA;AAEA,yCAHA;AAIA;AACA;AACA;AACA,gBADA,CACA,SADA,EACA,WADA;AAEA,YAFA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SATA;AAUA,aAVA,CAUA;AACA;AACA,SAZA;AAaA,OAnBA,MAmBA;AACA;AACA;AACA,gBADA,CACA,SADA,EACA,UADA;AAEA,YAFA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SATA;AAUA,aAVA,CAUA;AACA;AACA,SAZA;AAaA;AACA,KAxFA;AAyFA;AACA,cA1FA,sBA0FA,EA1FA,EA0FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDADA;AAEA,0BAFA;;AAIA;AACA,OAVA;AAWA,KAtGA;AAuGA;AACA,SAxGA,iBAwGA,IAxGA,EAwGA;AACA;;AAEA;;;;;;;;AAQA,KAnHA;AAoHA;AACA,eArHA,yBAqHA;AACA;AACA,KAvHA;AAwHA;AACA,gBAzHA,0BAyHA;AACA;AACA,KA3HA;AA4HA;AACA,YA7HA,sBA6HA;AACA;AACA;AACA;AACA;AACA;AACA,KAnIA,EAvHA,E;;;;;;;;;;;;;AC7GA;AAAA;AAAA;AAAA;AAA0nC,CAAgB,omCAAG,EAAC,C;;;;;;;;;;;ACA9oC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/manage/invite.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/manage/invite.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./invite.vue?vue&type=template&id=f0631c6c&scoped=true&\"\nvar renderjs\nimport script from \"./invite.vue?vue&type=script&lang=js&\"\nexport * from \"./invite.vue?vue&type=script&lang=js&\"\nimport style0 from \"./invite.vue?vue&type=style&index=0&id=f0631c6c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f0631c6c\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/manage/invite.vue\"\nexport default component.exports","export * from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./invite.vue?vue&type=template&id=f0631c6c&scoped=true&\"","var components\ntry {\n  components = {\n    quiPage: function() {\n      return import(\n        /* webpackChunkName: \"components/qui-page/qui-page\" */ \"@/components/qui-page/qui-page.vue\"\n      )\n    },\n    quiTabs: function() {\n      return import(\n        /* webpackChunkName: \"components/qui-tabs/qui-tabs\" */ \"@/components/qui-tabs/qui-tabs.vue\"\n      )\n    },\n    quiLoadMore: function() {\n      return import(\n        /* webpackChunkName: \"components/qui-load-more/qui-load-more\" */ \"@/components/qui-load-more/qui-load-more.vue\"\n      )\n    },\n    quiNoData: function() {\n      return import(\n        /* webpackChunkName: \"components/qui-no-data/qui-no-data\" */ \"@/components/qui-no-data/qui-no-data.vue\"\n      )\n    },\n    uniPopup: function() {\n      return import(\n        /* webpackChunkName: \"components/uni-popup/uni-popup\" */ \"@/components/uni-popup/uni-popup.vue\"\n      )\n    },\n    quiIcon: function() {\n      return import(\n        /* webpackChunkName: \"components/qui-icon/qui-icon\" */ \"@/components/qui-icon/qui-icon.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 =\n    _vm.current === 0 && !(_vm.allInviteList && _vm.allInviteList.length > 0)\n      ? _vm.i18n.t(\"manage.noContent\")\n      : null\n  var g1 =\n    _vm.current === 1 && !(_vm.allInviteList && _vm.allInviteList.length > 0)\n      ? _vm.i18n.t(\"manage.noContent\")\n      : null\n  var g2 =\n    _vm.current === 2 && !(_vm.allInviteList && _vm.allInviteList.length > 0)\n      ? _vm.i18n.t(\"manage.noContent\")\n      : null\n  var g3 =\n    _vm.current === 3 && !(_vm.allInviteList && _vm.allInviteList.length > 0)\n      ? _vm.i18n.t(\"manage.noContent\")\n      : null\n  var g4 = _vm.current === 0 ? _vm.i18n.t(\"manage.generateInvitationUrl\") : null\n  var g5 = _vm.i18n.t(\"home.cancel\")\n  var g6 = _vm.i18n.t(\"home.cancel\")\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n        g2: g2,\n        g3: g3,\n        g4: g4,\n        g5: g5,\n        g6: g6\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./invite.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./invite.vue?vue&type=script&lang=js&\"","<template>\n  <qui-page :data-qui-theme=\"theme\">\n    <scroll-view\n      scroll-y\n      scroll-with-animation\n      class=\"invite\"\n      :style=\"current === 0 ? 'bottom: 150rpx;' : 'bottom: 0rpx;'\"\n      @scrolltolower=\"pullDown\"\n    >\n      <!-- 标签栏 -->\n      <view class=\"invite-tabs\">\n        <qui-tabs\n          class=\"invite-tabs-h\"\n          :current=\"current\"\n          :values=\"tabList\"\n          @clickItem=\"onClickItem\"\n        ></qui-tabs>\n        <view>{{ role }}</view>\n        <view>\n          <view v-if=\"current === 0\" class=\"items\">\n            <view v-if=\"allInviteList && allInviteList.length > 0\">\n              <qui-invite\n                :total=\"total\"\n                :status=\"status\"\n                :list=\"allInviteList\"\n                @setInvalid=\"setInvalid\"\n                @share=\"share\"\n              ></qui-invite>\n              <qui-load-more :status=\"loadingType\"></qui-load-more>\n            </view>\n            <qui-no-data :tips=\"i18n.t('manage.noContent')\" v-else></qui-no-data>\n          </view>\n          <view v-if=\"current === 1\" class=\"items\">\n            <view v-if=\"allInviteList && allInviteList.length > 0\">\n              <qui-invite :total=\"total\" :status=\"status\" :list=\"allInviteList\"></qui-invite>\n              <qui-load-more :status=\"loadingType\"></qui-load-more>\n            </view>\n            <qui-no-data :tips=\"i18n.t('manage.noContent')\" v-else></qui-no-data>\n          </view>\n          <view v-if=\"current === 2\" class=\"items\">\n            <view v-if=\"allInviteList && allInviteList.length > 0\">\n              <qui-invite :total=\"total\" :status=\"status\" :list=\"allInviteList\"></qui-invite>\n              <qui-load-more :status=\"loadingType\"></qui-load-more>\n            </view>\n            <qui-no-data :tips=\"i18n.t('manage.noContent')\" v-else></qui-no-data>\n          </view>\n          <view v-if=\"current === 3\" class=\"items\">\n            <view v-if=\"allInviteList && allInviteList.length > 0\">\n              <qui-invite :total=\"total\" :status=\"status\" :list=\"allInviteList\"></qui-invite>\n              <qui-load-more :status=\"loadingType\"></qui-load-more>\n            </view>\n            <qui-no-data :tips=\"i18n.t('manage.noContent')\" v-else></qui-no-data>\n          </view>\n        </view>\n      </view>\n    </scroll-view>\n    <!-- 邀请链接按钮 -->\n    <view class=\"invite-button\" v-if=\"current === 0\">\n      <button class=\"btn\" @click=\"generate\">\n        {{ i18n.t('manage.generateInvitationUrl') }}\n      </button>\n    </view>\n    <!-- 邀请链接弹窗 -->\n    <uni-popup ref=\"popup\" type=\"bottom\">\n      <scroll-view scroll-y style=\"max-height: 968rpx;\">\n        <view class=\"popup-wrap\">\n          <view class=\"popup-wrap-con\">\n            <view v-for=\"item in groupList\" :key=\"item._jv.id\">\n              <view class=\"popup-wrap-con-text\" @click=\"generateUrl(item)\">{{ item.name }}</view>\n              <view class=\"popup-wrap-con-line\"></view>\n            </view>\n          </view>\n          <view class=\"popup-wrap-space\"></view>\n          <text class=\"popup-wrap-btn\" @click=\"cancelModify\">{{ i18n.t('home.cancel') }}</text>\n        </view>\n      </scroll-view>\n    </uni-popup>\n    <!-- 分享弹窗 -->\n    <uni-popup ref=\"popupShare\" type=\"bottom\">\n      <view class=\"popup-share\">\n        <view class=\"popup-share-content\" style=\"box-sizing: border-box;\">\n          <button class=\"popup-share-button__center\" open-type=\"share\"></button>\n          <view v-for=\"(item, index) in bottomData\" :key=\"index\" class=\"popup-share-content-box\">\n            <view class=\"popup-share-content-image\">\n              <view class=\"popup-share-box\">\n                <qui-icon class=\"content-image\" :name=\"item.icon\" size=\"46\" color=\"#777\"></qui-icon>\n              </view>\n            </view>\n            <text class=\"popup-share-content-text\">{{ item.text }}</text>\n          </view>\n        </view>\n        <view class=\"popup-share-content-space\"></view>\n        <text class=\"popup-share-btn\" @click=\"cancelShare('share')\">\n          {{ i18n.t('home.cancel') }}\n        </text>\n      </view>\n    </uni-popup>\n  </qui-page>\n</template>\n\n<script>\nimport { timestamp2day } from '@/utils/time';\nimport quiInvite from '@/components/qui-invite';\nimport forums from '@/mixin/forums';\n// #ifdef H5\nimport wxshare from '@/mixin/wxshare-h5';\nimport appCommonH from '@/utils/commonHelper';\n// #endif\n\nexport default {\n  components: { quiInvite },\n  mixins: [\n    forums,\n    // #ifdef H5\n    wxshare,\n    appCommonH,\n    // #endif\n  ],\n  data() {\n    return {\n      current: 0, // 当前标签页\n      total: 0, // 邀请链接的总数\n      tabList: [\n        { id: 1, title: this.i18n.t('manage.nouse'), status: 1 },\n        { id: 2, title: this.i18n.t('manage.used'), status: 2 },\n        { id: 3, title: this.i18n.t('manage.overdue'), status: 3 },\n        { id: 4, title: this.i18n.t('manage.invalid'), status: 0 },\n      ], // 邀请链接的类型列表\n      role: '', // 用户角色\n      status: 1, // 邀请链接的类型\n      bottomData: [\n        {\n          text: this.i18n.t('home.wxShare'),\n          icon: 'icon-wx-friends',\n          name: 'wx',\n        },\n      ],\n      navbarHeight: 0,\n      isWeixin: '', // 是否是微信浏览器\n      inviteList: [], // 列表数据\n      loadingType: 'more', // 上拉加载状态\n      pageNum: 1, // 当前页数\n      pageSize: 20, // 每页20条数据\n    };\n  },\n  onLoad() {\n    this.getInviteList(1);\n    this.getGroupList();\n    // #ifdef H5\n    this.isWeixin = appCommonH.isWeixin().isWeixin;\n    // #endif\n    // #ifdef MP-WEIXIN\n    wx.showShareMenu({\n      withShareTicket: true,\n      menus: ['shareAppMessage', 'shareTimeline'],\n    });\n    // #endif\n  },\n  // 唤起小程序原生分享\n  onShareAppMessage(res) {\n    // 来自页面内分享按钮\n    if (res.from === 'button') {\n      return {\n        title: this.forums.set_site.site_name,\n        path: `/pages/site/partner-invite?code=${this.code}`,\n      };\n    }\n    return {\n      title: this.forums.set_site.site_name,\n      path: `/pages/site/partner-invite?code=${this.code}`,\n    };\n  },\n  // 分享到朋友圈\n  onShareTimeline() {\n    return {\n      title: this.forums.set_site.site_name,\n      query: '',\n    };\n  },\n  computed: {\n    // 获取当前登录的id\n    currentLoginId() {\n      const userId = this.$store.getters['session/get']('userId');\n      return parseInt(userId, 10);\n    },\n    // 获取管理邀请列表（非管理员无的邀请链接无管理）\n    allInviteList() {\n      const list = [];\n      const groupList = this.$store.getters['jv/get']('groups');\n      const inviteListKeys = Object.keys(this.inviteList);\n      const groupListKeys = Object.keys(groupList);\n      if (this.inviteList && inviteListKeys.length > 0) {\n        for (let i = 0; i < inviteListKeys.length; i += 1) {\n          const inviteListValue = this.inviteList[inviteListKeys[i]];\n          const day = timestamp2day(inviteListValue.endtime);\n          if (inviteListValue.status === 1) {\n            inviteListValue.time = this.i18n.t('manage.remainDay', { day });\n          } else {\n            inviteListValue.time = this.i18n.t('manage.remain0Day');\n          }\n          if (groupListKeys && groupListKeys.length > 0) {\n            for (let j = 0; j < groupListKeys.length; j += 1) {\n              const groupListValue = groupList[groupListKeys[j]];\n              if (inviteListValue.group_id.toString() === groupListValue._jv.id.toString()) {\n                inviteListValue.title = groupListValue.name;\n              }\n            }\n          }\n          list.push(inviteListValue);\n        }\n      }\n      return list;\n    },\n    // 获取用户组列表\n    groupList() {\n      const groups = this.$store.getters['jv/get']('groups');\n      const list = [];\n      const array = Object.keys(groups);\n      for (let i = 0; i < array.length; i += 1) {\n        list.push(groups[array[i]]);\n      }\n      return list;\n    },\n    // 获取用户角色\n    userInfos() {\n      return this.$store.getters['jv/get'](`users/${this.currentLoginId}`);\n    },\n  },\n  methods: {\n    // 调用 管理邀请列表 接口\n    getInviteList(status) {\n      const params = {\n        'filter[status]': status,\n        'page[number]': this.pageNum,\n        'page[limit]': this.pageSize,\n      };\n      this.$store.commit('jv/clearRecords', { _jv: { type: 'invite' } });\n      this.$store.dispatch('jv/get', ['invite', { params }]).then(res => {\n        if (res && res._jv && res._jv.json && res._jv.json.data) {\n          this.total = res._jv.json.meta.total;\n          this.inviteList = [...this.inviteList, ...res];\n          this.loadingType = res.length === this.pageSize ? 'more' : 'nomore';\n        }\n      });\n    },\n    // 调用 获取所有用户组 接口\n    getGroupList() {\n      const params = {\n        'filter[type]': 'invite',\n      };\n      this.$store.commit('jv/clearRecords', { _jv: { type: 'groups' } });\n      this.$store.dispatch('jv/get', ['groups', { params }]);\n    },\n    // 改变标签页\n    onClickItem(e) {\n      if (e.currentIndex !== this.current) {\n        this.current = e.currentIndex;\n        this.status = this.tabList[e.currentIndex].status;\n        this.pageNum = 1;\n        this.inviteList = [];\n        this.getInviteList(this.tabList[e.currentIndex].status);\n      }\n    },\n    // 生成邀请链接弹窗\n    generate() {\n      this.$refs.popup.open();\n    },\n    // 生成 合伙人/嘉宾/成员 邀请链接\n    generateUrl(item) {\n      const adminParams = {\n        _jv: {\n          type: 'invite',\n        },\n        type: 'invite',\n        group_id: parseInt(item._jv.id, 10),\n      };\n      const userParams = {\n        _jv: {\n          type: 'userInviteCode',\n        },\n      };\n      if (\n        this.userInfos &&\n        this.userInfos.groups.length > 0 &&\n        this.forums.other.can_create_invite\n      ) {\n        // 角色是管理员\n        this.$store\n          .dispatch('jv/post', adminParams)\n          .then(res => {\n            if (res) {\n              this.$refs.popup.close();\n              this.inviteList = [];\n              this.pageNum = 1;\n              this.getInviteList(1);\n            }\n          })\n          .catch(err => {\n            console.log(err);\n          });\n      } else {\n        // 角色不是管理员\n        this.$store\n          .dispatch('jv/post', userParams)\n          .then(res => {\n            if (res) {\n              this.$refs.popup.close();\n              this.inviteList = [];\n              this.pageNum = 1;\n              this.getInviteList(1);\n            }\n          })\n          .catch(err => {\n            console.log(err);\n          });\n      }\n    },\n    // 删除链接\n    setInvalid(id) {\n      this.$store.dispatch('jv/delete', `invite/${id}`).then(res => {\n        if (res) {\n          this.inviteList = [];\n          this.pageNum = 1;\n          this.getInviteList(this.status);\n          uni.showToast({\n            title: this.i18n.t('manage.invalidLink'),\n            duration: 2000,\n          });\n        }\n      });\n    },\n    // 分享\n    share(code) {\n      this.code = code;\n      // #ifdef MP-WEIXIN\n      this.$refs.popupShare.open();\n      // #endif\n      // #ifdef H5\n      this.h5Share({\n        title: this.forums.set_site.site_name,\n        url: `pages/site/partner-invite?code=${this.code}`,\n      });\n      // #endif\n    },\n    // 取消分享\n    cancelShare() {\n      this.$refs.popupShare.close();\n    },\n    // 取消修改用户组\n    cancelModify() {\n      this.$refs.popup.close();\n    },\n    // 上拉加载\n    pullDown() {\n      if (this.loadingType !== 'more') {\n        return;\n      }\n      this.pageNum += 1;\n      this.getInviteList(this.status);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/styles/base/variable/global.scss';\n@import '@/styles/base/theme/fn.scss';\n\n.invite {\n  position: fixed;\n  top: 0rpx;\n  right: 0rpx;\n  left: 0rpx;\n  /* #ifdef H5 */\n  margin-top: 44px;\n  /* #endif */\n  font-size: $fg-f4;\n  &-tabs {\n    /deep/ .qui-tabs__item--active .qui-tabs__item__title {\n      font-size: $fg-f4;\n    }\n  }\n}\n\n.invite-button {\n  position: fixed;\n  right: 0;\n  bottom: 40rpx;\n  left: 0;\n  width: 670rpx;\n  height: 90rpx;\n  margin: auto;\n\n  .btn {\n    font-size: $fg-f4;\n    line-height: 90rpx;\n    color: --color(--qui-FC-333);\n    background: --color(--qui-BG-2);\n  }\n}\n\n.popup-wrap {\n  display: flex;\n  flex-direction: column;\n  background: --color(--qui-BG-2);\n  border-radius: 10rpx 10rpx 0rpx 0rpx;\n\n  &-con {\n    border-radius: 10rpx 10rpx 0rpx 0rpx;\n\n    &-text {\n      width: 100%;\n      height: 100rpx;\n      font-size: $fg-f5;\n      line-height: 100rpx;\n      text-align: center;\n    }\n\n    &-line {\n      border: 2rpx solid --color(--qui-BG-ED);\n    }\n  }\n\n  &-space {\n    border: 8rpx solid --color(--qui-BG-ED);\n  }\n\n  &-btn {\n    width: 100%;\n    height: 100rpx;\n    font-size: $fg-f4;\n    line-height: 100rpx;\n    text-align: center;\n  }\n}\n</style>\n","import mod from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./invite.vue?vue&type=style&index=0&id=f0631c6c&lang=scss&scoped=true&\"; export default mod; export * from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./invite.vue?vue&type=style&index=0&id=f0631c6c&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1636533856290\n      var cssReload = require(\"G:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}