{"version":3,"sources":["uni-app:///main.js","webpack:///E:/wamp/www/hi-hupai-wechat-pro/pages/site/info.vue?d4ce","webpack:///E:/wamp/www/hi-hupai-wechat-pro/pages/site/info.vue?333a","webpack:///E:/wamp/www/hi-hupai-wechat-pro/pages/site/info.vue?1284","webpack:///E:/wamp/www/hi-hupai-wechat-pro/pages/site/info.vue?8f03","uni-app:///pages/site/info.vue","webpack:///E:/wamp/www/hi-hupai-wechat-pro/pages/site/info.vue?7e5f","webpack:///E:/wamp/www/hi-hupai-wechat-pro/pages/site/info.vue?2207"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,0F;AACAA,UAAU,CAACC,aAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;AACc;;;AAGjE;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,8OAEN;AACP,KAAK;AACL;AACA,aAAa,wRAEN;AACP,KAAK;AACL;AACA,aAAa,oMAEN;AACP,KAAK;AACL;AACA,aAAa,wOAEN;AACP,KAAK;AACL;AACA,aAAa,8LAEN;AACP,KAAK;AACL;AACA,aAAa,wLAEN;AACP,KAAK;AACL;AACA,aAAa,8LAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AClGA;AAAA;AAAA;AAAA;AAA8lB,CAAgB,wnBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC2ElnB;AACA;;;;;;AAMA,mE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4VAEA,qB,eACA,EACA,8CADA,EAEA,SACA,eADA,EAEA,oBAFA,CAFA,EASA,IATA,kBASA,CACA,SACA,mBADA,EACA;AACA,iBAFA,EAEA;AACA,sBAHA,EAGA;AACA,sBAJA,EAKA,iBALA,EAKA;AACA,kBANA,EAMA;AACA,oBAPA,EAQA,SARA,EASA,UATA,EASA;AACA,sBAVA,EAUA;AACA,iBAXA,EAWA;AACA,4DAZA,EAaA,4CAbA,EAaA;AACA,oBACA,EACA,8BADA,EAEA,kBAFA,EAGA,gBAHA,EAIA,UAJA,EADA,CAdA,GAuBA,CAjCA,EAkCA,YACA;AACA,OAFA,iBAEA,CACA,0BACA,CAJA,EAKA,MALA,oBAKA,CACA,oDACA,CAPA,EAQA,IARA,kBAQA,CACA,mEACA,CAVA,EAlCA,EA8CA,OA9CA,qBA8CA,CACA;AACA,8CACA,yBACA,CAFA,EAGA,CAnDA,EAoDA,MApDA,oBAoDA,CAEA,qBACA,mBACA,qBADA,EAEA,2CAFA,IAKA,6CACA;AACA,sBACA,iBACA,wBADA,IAGA,CACA,CAPA,EARA,CAqBA;AACA,uBACA,OACA,CACA,gBACA,CA9EA,EA+EA,QA/EA,sBA+EA,CACA,yBACA,CAjFA,EAkFA;AACA,mBAnFA,6BAmFA,GAnFA,EAmFA,CACA;AACA,gCACA;AACA,6CADA;;AAGA;AACA;AACA,2CADA;;AAGA,GA7FA;AA8FA;AACA,iBA/FA,6BA+FA;AACA;AACA,2CADA;AAEA,eAFA;;AAIA,GApGA;AAqGA;AACA,YADA,sBACA;AACA;AACA,yBADA;;AAGA;AACA;AACA;AACA;AACA,OAJA;AAKA,KAVA;AAWA;AACA,eAZA,uBAYA,GAZA,EAYA;AACA;AACA,KAdA;AAeA;AACA,WAhBA,mBAgBA,GAhBA,EAgBA;AACA;AACA;AACA,KAnBA;AAoBA;AACA,uBArBA,iCAqBA;;AAEA;;;;;;;;;;;;;AAaA,KApCA;AAqCA;AACA,2BAtCA,qCAsCA;AACA;AACA,KAxCA;AAyCA;AACA,eA1CA,yBA0CA;AACA;AACA,mBADA;AAEA,gCAFA;;;;;;;;;;;;;AAeA;AACA;AACA,4DAFA;AAGA;AACA;AACA;AACA;;AAEA;AACA,KAnEA;AAoEA;AACA,cArEA,sBAqEA,MArEA,EAqEA,IArEA,EAqEA,KArEA,EAqEA;AACA;AACA;AACA,wBADA,EADA;;AAIA,kBAJA;AAKA,sBALA;AAMA,sCANA;;AAQA;AACA;AACA;AACA,wDADA,CACA;AACA,SAFA,MAEA;AACA,wDADA,CACA;AACA,SAFA,MAEA;AACA,wDADA,CACA;AACA,SAFA,MAEA;AACA,wDADA,CACA;AACA;AACA,OAXA;AAYA,KA1FA;AA2FA;AACA,YA5FA,oBA4FA,IA5FA,EA4FA,KA5FA,EA4FA,OA5FA,EA4FA,WA5FA,EA4FA;AACA;AACA;AACA;AACA,kDADA,EADA;;AAIA,0BAJA;;AAMA;AACA;AACA;AACA;AACA,iCADA;AAEA,gCAFA;AAGA,+BAHA;AAIA,gCAJA;AAKA,+BALA;;AAOA,SARA,MAQA;AACA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA;AACA,WAPA,MAOA;AACA;AACA;AACA,SAXA,MAWA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAPA,EAOA,IAPA;AAQA;AACA;AACA,OAxCA;AAyCA,KA7IA;AA8IA;AACA,kBA/IA,0BA+IA,OA/IA,EA+IA,WA/IA,EA+IA;AACA;AACA,cADA,CACA,QADA,EACA,2DADA;AAEA,UAFA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAfA;AAgBA,WAhBA,CAgBA;AACA;AACA;AACA,OAnBA;AAoBA,KApKA;AAqKA;AACA,iBAtKA,yBAsKA,IAtKA,EAsKA;AACA;AACA;AACA,4BADA;AAEA;AACA,mCADA,EACA;AACA,2CAFA,EAEA;AACA,yCAHA,EAGA;AACA,uCAJA;AAKA,uBALA,EAKA;AACA,uCANA,CAMA;AANA,OAFA;AAUA;AACA;AACA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA;AACA,OAtBA;;AAwBA;AACA;AACA;AACA;AACA;AACA;AACA,OANA,EAMA,IANA;AAOA,KAvMA;AAwMA,aAxMA,qBAwMA,SAxMA,EAwMA,QAxMA,EAwMA,UAxMA,EAwMA,QAxMA,EAwMA,OAxMA,EAwMA;AACA;AACA;AACA,yBADA;AAEA,4BAFA;AAGA,0BAHA;AAIA,2BAJA;AAKA,0BALA;AAMA,wBANA;AAOA,eAPA,qBAOA;AACA;AACA,oCADA;;AAGA,SAXA;AAYA,YAZA,gBAYA,GAZA,EAYA;AACA;AACA,SAdA;;AAgBA,KA1NA;AA2NA;AACA,UA5NA,oBA4NA;AACA;AACA;AACA,qBADA;AAEA,2CAFA;;;AAKA;;;;;AAKA,OAXA,MAWA;AACA;AACA;AACA;AACA;AACA,SAFA;AAGA;AACA,KA/OA;AAgPA;AACA,SAjPA,mBAiPA;AACA;AACA,KAnPA,EArGA,E;;;;;;;;;;;;;ACrFA;AAAA;AAAA;AAAA;AAAgmC,CAAgB,0kCAAG,EAAC,C;;;;;;;;;;;ACApnC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/site/info.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/site/info.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./info.vue?vue&type=template&id=01f0734d&\"\nvar renderjs\nimport script from \"./info.vue?vue&type=script&lang=js&\"\nexport * from \"./info.vue?vue&type=script&lang=js&\"\nimport style0 from \"./info.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/site/info.vue\"\nexport default component.exports","export * from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./info.vue?vue&type=template&id=01f0734d&\"","var components\ntry {\n  components = {\n    quiPage: function() {\n      return import(\n        /* webpackChunkName: \"components/qui-page/qui-page\" */ \"@/components/qui-page/qui-page.vue\"\n      )\n    },\n    quiSiteThread: function() {\n      return import(\n        /* webpackChunkName: \"components/qui-site-thread/qui-site-thread\" */ \"@/components/qui-site-thread/qui-site-thread.vue\"\n      )\n    },\n    quiButton: function() {\n      return import(\n        /* webpackChunkName: \"components/qui-button/qui-button\" */ \"@/components/qui-button/qui-button.vue\"\n      )\n    },\n    quiPay: function() {\n      return import(\n        /* webpackChunkName: \"components/qui-pay/qui-pay\" */ \"@/components/qui-pay/qui-pay.vue\"\n      )\n    },\n    uniPopup: function() {\n      return import(\n        /* webpackChunkName: \"components/uni-popup/uni-popup\" */ \"@/components/uni-popup/uni-popup.vue\"\n      )\n    },\n    quiIcon: function() {\n      return import(\n        /* webpackChunkName: \"components/qui-icon/qui-icon\" */ \"@/components/qui-icon/qui-icon.vue\"\n      )\n    },\n    quiToast: function() {\n      return import(\n        /* webpackChunkName: \"components/qui-toast/qui-toast\" */ \"@/components/qui-toast/qui-toast.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.isLogin ? _vm.i18n.t(\"site.justonelaststepjoinnow\") : null\n  var g1 = _vm.isLogin ? _vm.i18n.t(\"site.site\") : null\n  var g2 =\n    _vm.forums.set_site && _vm.forums.set_site.site_expire\n      ? _vm.i18n.t(\"site.periodvalidity\")\n      : null\n  var g3 =\n    _vm.forums.set_site && _vm.forums.set_site.site_expire\n      ? _vm.i18n.t(\"site.day\")\n      : null\n  var g4 = !(_vm.forums.set_site && _vm.forums.set_site.site_expire)\n    ? _vm.i18n.t(\"site.permanent\")\n    : null\n  var g5 = _vm.isLogin ? _vm.i18n.t(\"site.paynow\") : null\n  var g6 = !_vm.isLogin ? _vm.i18n.t(\"site.join\") : null\n  var g7 = !_vm.isLogin ? _vm.i18n.t(\"site.site\") : null\n  var m0 = _vm.payShowStatus\n    ? _vm.forums.set_site && parseFloat(_vm.forums.set_site.site_price)\n    : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n        g2: g2,\n        g3: g3,\n        g4: g4,\n        g5: g5,\n        g6: g6,\n        g7: g7,\n        m0: m0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./info.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./info.vue?vue&type=script&lang=js&\"","<template>\n  <qui-page :data-qui-theme=\"theme\" class=\"site\" :header=\"false\">\n    <qui-site-thread share-url=\"pages/site/info\"></qui-site-thread>\n    <view class=\"site-invite\">\n      <view class=\"site-invite__detail\" v-if=\"isLogin\">\n        <text>{{ i18n.t('site.justonelaststepjoinnow') }}</text>\n        <text class=\"site-invite__detail__bold\">\n          {{ forums.set_site && forums.set_site.site_name }}\n        </text>\n        <text>{{ i18n.t('site.site') }}</text>\n      </view>\n    </view>\n    <view class=\"site-submit\">\n      <view>\n        <view class=\"site-submit__price\">\n          {{ `¥${(forums.set_site && forums.set_site.site_price) || 0}` }}\n        </view>\n        <view class=\"site-submit__expire\">\n          {{\n            forums.set_site && forums.set_site.site_expire\n              ? `${i18n.t('site.periodvalidity')} ${forums.set_site &&\n                  forums.set_site.site_expire} ${i18n.t('site.day')}`\n              : i18n.t('site.permanent')\n          }}\n        </view>\n      </view>\n      <qui-button type=\"primary\" @click=\"submit\" size=\"small\">\n        {{ isLogin ? i18n.t('site.paynow') : i18n.t('site.join') + i18n.t('site.site') }}\n      </qui-button>\n    </view>\n    <view v-if=\"payShowStatus\">\n      <qui-pay\n        ref=\"payShow\"\n        :money=\"forums.set_site && parseFloat(forums.set_site.site_price)\"\n        :wallet-status=\"true\"\n        :balance=\"10\"\n        :current-pay-type=\"0\"\n        :pay-type-data=\"payTypeData\"\n        @radioMyHead=\"radioMyHead\"\n        @onInput=\"onInput\"\n        @paysureShow=\"paysureShow\"\n      ></qui-pay>\n    </view>\n    <uni-popup ref=\"codePopup\" type=\"center\" class=\"code-popup-box\">\n      <view class=\"code-content\" v-if=\"qrcodeShow\">\n        <view class=\"code-title\">{{ pay.payNow }}</view>\n        <view class=\"code-pay-money\">\n          <view class=\"code-yuan\">￥</view>\n          {{ forums.set_site && forums.set_site.site_price }}\n        </view>\n        <view class=\"code-type-box\">\n          <view class=\"code-type-tit\">{{ pay.payType }}</view>\n          <view class=\"code-type\">\n            <qui-icon class=\"code-type-icon\" name=\"icon-wxPay\" size=\"36\" color=\"#09bb07\"></qui-icon>\n            <view class=\"code-type-text\">{{ pay.wxPay }}</view>\n          </view>\n        </view>\n        <image :src=\"codeUrl\" class=\"code-img\"></image>\n        <view class=\"code-tip\">{{ pay.wechatIdentificationQRcode }}</view>\n      </view>\n    </uni-popup>\n    <uni-popup ref=\"wechatPopup\" type=\"center\">\n      <uni-popup-dialog\n        type=\"warn\"\n        :content=\"wechatTip\"\n        :before-close=\"true\"\n        @close=\"handleWechatClickCancel\"\n        @confirm=\"handleWechatClickOk\"\n      ></uni-popup-dialog>\n    </uni-popup>\n    <qui-toast ref=\"toast\"></qui-toast>\n  </qui-page>\n</template>\n\n<script>\nimport forums from '@/mixin/forums';\nimport loginModule from '@/mixin/loginModule';\nimport uniPopupDialog from '@/components/uni-popup/uni-popup-dialog';\n// #ifdef H5\nimport appCommonH from '@/utils/commonHelper';\nimport { DISCUZ_REQUEST_HOST } from '@/common/const';\n// #endif\nimport { getCurUrl } from '@/utils/getCurUrl';\n\nlet payWechat = null;\nexport default {\n  components: { uniPopupDialog },\n  mixins: [\n    forums,\n    loginModule,\n    // #ifdef H5\n    appCommonH,\n    // #endif\n  ],\n  data() {\n    return {\n      payShowStatus: true, // 是否显示支付\n      codeUrl: '', // 二维码支付url，base64\n      shareShow: false, // h5内分享提示信息\n      isAnonymous: '0',\n      qrcodeShow: false, // 二维码弹框\n      isWeixin: '', // 是否是微信浏览器内\n      isPhone: false,\n      wxRes: '',\n      browser: 0, // 0为小程序，1为除小程序之外的设备\n      payStatus: false, // 订单支付状态\n      orderSn: '', // 订单编号\n      isLogin: this.$store.getters['session/get']('isLogin'),\n      wechatTip: this.i18n.t('discuzq.wechatBind'), // 微信绑定提示\n      payTypeData: [\n        {\n          name: this.i18n.t('pay.wxPay'),\n          icon: 'icon-wxPay',\n          color: '#09bb07',\n          value: '0',\n        },\n      ],\n    };\n  },\n  computed: {\n    // pay支付语言包\n    pay() {\n      return this.i18n.t('pay');\n    },\n    userId() {\n      return this.$store.getters['session/get']('userId');\n    },\n    user() {\n      return this.$store.getters['jv/get'](`users/${this.userId}`);\n    },\n  },\n  created() {\n    // 华为手机支付后不刷新也不进入任何生命周期的情况\n    this.$u.event.$on('refresh', () => {\n      window.location.reload();\n    });\n  },\n  onLoad() {\n    // #ifdef MP-WEIXIN\n    uni.hideHomeButton();\n    wx.showShareMenu({\n      withShareTicket: true,\n      menus: ['shareAppMessage', 'shareTimeline'],\n    });\n    // #endif\n    this.$u.event.$on('logind', data => {\n      // 点击授权登陆成功后如果是已付费去首页\n      if (data.paid) {\n        uni.redirectTo({\n          url: '/pages/home/index',\n        });\n      }\n    });\n    // #ifdef  H5\n    this.isWeixin = appCommonH.isWeixin().isWeixin;\n    this.isPhone = appCommonH.isWeixin().isPhone;\n    this.browser = 1;\n    // #endif\n    // 已经支付过的直接去首页\n    if (!this.userId) {\n      return;\n    }\n    this.userInfo();\n  },\n  onUnload() {\n    clearInterval(payWechat);\n  },\n  // 唤起小程序原声分享\n  onShareAppMessage(res) {\n    // 来自页面内分享按钮\n    if (res.from === 'button') {\n      return {\n        title: this.forums.set_site.site_name,\n      };\n    }\n    return {\n      title: this.forums.set_site.site_name,\n    };\n  },\n  // 分享到朋友圈\n  onShareTimeline() {\n    return {\n      title: this.forums.set_site.site_name,\n      query: '',\n    };\n  },\n  methods: {\n    userInfo() {\n      const params = {\n        include: 'groups',\n      };\n      this.$store.dispatch('jv/get', [`users/${this.userId}`, { params }]).then(res => {\n        if (res.paid) {\n          window.location.href = '/pages/home/index';\n        }\n      });\n    },\n    // 支付是否显示用户头像\n    radioMyHead(val) {\n      this.isAnonymous = val;\n    },\n    // 输入密码完成时\n    onInput(val) {\n      this.value = val;\n      this.creatOrder(this.forums.set_site.site_price, 1, val);\n    },\n    // 确认去绑定微信\n    handleWechatClickOk() {\n      // #ifdef MP-WEIXIN\n      this.mpLogin();\n      // #endif\n      // #ifdef H5\n      if (this.isWeixin) {\n        this.wxh5Login(0, 0);\n      } else {\n        uni.showToast({\n          icon: 'none',\n          title: this.i18n.t('user.unLogin'),\n          duration: 2000,\n        });\n      }\n      // #endif\n    },\n    // 取消去绑定微信\n    handleWechatClickCancel() {\n      this.$refs.wechatPopup.close();\n    },\n    // 支付方式选择完成点击确定时\n    paysureShow() {\n      uni.setStorage({\n        key: 'page',\n        data: `/pages/site/info`,\n      });\n      // #ifdef H5\n      if (this.isWeixin === true && this.user.wechat === undefined) {\n        this.$refs.wechatPopup.open();\n        return;\n      }\n      if (this.isWeixin === true && this.user.wechat && this.user.wechat.mp_openid === '') {\n        this.$refs.wechatPopup.open();\n        return;\n      }\n      // #endif\n      // #ifdef MP-WEIXIN\n      if (\n        this.user.wechat === undefined ||\n        (this.user.wechat && this.user.wechat.min_openid === '')\n      ) {\n        this.$refs.wechatPopup.open();\n        return;\n      }\n      // #endif\n      this.creatOrder(this.forums.set_site.site_price, 1, this.value);\n    },\n    // 创建订单\n    creatOrder(amount, type, value) {\n      const params = {\n        _jv: {\n          type: 'orders',\n        },\n        type,\n        amount,\n        is_anonymous: this.isAnonymous,\n      };\n      this.$store.dispatch('jv/post', params).then(res => {\n        this.orderSn = res.order_sn;\n        if (this.browser === 0) {\n          this.orderPay(13, value, this.orderSn, '0'); // 微信小程序\n        } else if (this.isWeixin && this.isPhone) {\n          this.orderPay(12, value, this.orderSn, '1'); // 微信浏览器\n        } else if (this.isPhone) {\n          this.orderPay(11, value, this.orderSn, '2'); // 手机浏览器\n        } else {\n          this.orderPay(10, value, this.orderSn, '3'); // pc浏览器\n        }\n      });\n    },\n    // 订单支付\n    orderPay(type, value, orderSn, browserType) {\n      let params = {};\n      params = {\n        _jv: {\n          type: `trade/pay/order/${orderSn}`,\n        },\n        payment_type: type,\n      };\n      this.$store.dispatch('jv/post', params).then(res => {\n        this.wxRes = res;\n        if (browserType === '0') {\n          this.wechatPay(\n            res.wechat_js.timeStamp,\n            res.wechat_js.nonceStr,\n            res.wechat_js.package,\n            res.wechat_js.signType,\n            res.wechat_js.paySign,\n          );\n        } else if (browserType === '1') {\n          if (typeof WeixinJSBridge === 'undefined') {\n            if (document.addEventListener) {\n              document.addEventListener('WeixinJSBridgeReady', this.onBridgeReady(res), false);\n            } else if (document.attachEvent) {\n              document.attachEvent('WeixinJSBridgeReady', this.onBridgeReady(res));\n              document.attachEvent('onWeixinJSBridgeReady', this.onBridgeReady(res));\n            }\n          } else {\n            this.onBridgeReady(res);\n          }\n        } else if (browserType === '2') {\n          const url = encodeURI(`${DISCUZ_REQUEST_HOST}pages/site/payH5`);\n          window.location.href = `${res.wechat_h5_link}&redirect_url=${url}`;\n        } else if (browserType === '3') {\n          if (res) {\n            this.codeUrl = res.wechat_qrcode;\n            this.payShowStatus = false;\n            this.$refs.codePopup.open();\n            this.qrcodeShow = true;\n            payWechat = setInterval(() => {\n              if (this.payStatus === 1) {\n                clearInterval(payWechat);\n                return;\n              }\n              this.getOrderStatus(this.orderSn, browserType);\n              uni.hideLoading();\n            }, 3000);\n          }\n        }\n      });\n    },\n    // 查询订单支状 browserType: 0是小程序，1是微信浏览器，2是h5，3是pc\n    getOrderStatus(orderSn, browserType) {\n      this.$store\n        .dispatch('jv/get', [`orders/${orderSn}`, { custom: { loading: false } }])\n        .then(res => {\n          this.payStatus = res.status;\n          if (this.payStatus === 1) {\n            this.payShowStatus = false;\n            this.coverLoading = false;\n            if (browserType === '3') {\n              // 这是pc扫码支付完成\n              this.$refs.codePopup.close();\n              this.qrcodeShow = false;\n            }\n            window.location.href = '/pages/home/index';\n            this.$refs.toast.show({ message: this.p.paySuccess });\n          }\n        })\n        .catch(() => {\n          this.coverLoading = false;\n          this.$refs.toast.show({ message: this.pay.payFail });\n        });\n    },\n    // 非小程序内微信支付\n    onBridgeReady(data) {\n      // eslint-disable-next-line no-undef\n      WeixinJSBridge.invoke(\n        'getBrandWCPayRequest',\n        {\n          appId: data.wechat_js.appId, // 公众号名称，由商户传入\n          timeStamp: data.wechat_js.timeStamp, // 时间戳，自1970年以来的秒数\n          nonceStr: data.wechat_js.nonceStr, // 随机串\n          package: data.wechat_js.package,\n          signType: 'MD5', // 微信签名方式：\n          paySign: data.wechat_js.paySign, // 微信签名\n        },\n        res => {\n          // alert('支付唤醒');\n          if (res.err_msg === 'get_brand_wcpay_request:ok') {\n            window.location.href = '/pages/home/index';\n            // 微信支付成功，进行支付成功处理\n          } else if (res.err_msg === 'get_brand_wcpay_request:cancel') {\n            // 取消支付\n            clearInterval(payWechat);\n          } else if (res.err_msg === 'get_brand_wcpay_request:fail') {\n            // 支付失败\n            clearInterval(payWechat);\n          }\n        },\n      );\n      payWechat = setInterval(() => {\n        if (this.payStatus === 1) {\n          clearInterval(payWechat);\n          return;\n        }\n        this.getOrderStatus(this.orderSn, '1');\n      }, 3000);\n    },\n    wechatPay(timeStamp, nonceStr, packageVal, signType, paySign) {\n      // 小程序支付。\n      uni.requestPayment({\n        provider: 'wxpay',\n        timeStamp,\n        nonceStr,\n        package: packageVal,\n        signType,\n        paySign,\n        success() {\n          uni.redirectTo({\n            url: '/pages/home/index',\n          });\n        },\n        fail(err) {\n          console.log(`fail:${JSON.stringify(err)}`);\n        },\n      });\n    },\n    // 跳支付页面\n    submit() {\n      if (!this.$store.getters['session/get']('isLogin')) {\n        uni.setStorage({\n          key: 'page',\n          data: getCurUrl(),\n        });\n        // #ifdef MP-WEIXIN\n        this.mpLoginMode();\n        // #endif\n        // #ifdef H5\n        this.h5LoginMode();\n        // #endif\n      } else {\n        this.payStatus = false;\n        this.payShowStatus = true;\n        this.$nextTick(() => {\n          this.$refs.payShow.payClickShow();\n        });\n      }\n    },\n    // 调取用户信息取消弹框\n    close() {\n      this.$refs.auth.close();\n    },\n  },\n};\n</script>\n<style lang=\"scss\">\n@import '@/styles/base/variable/global.scss';\n@import '@/styles/base/theme/fn.scss';\n.site /deep/ {\n  padding-bottom: 130rpx;\n  .popup-pay {\n    .pay-title,\n    .pay-radio {\n      display: none;\n    }\n    .pay-btn {\n      margin-top: 40rpx;\n      margin-bottom: 40rpx;\n    }\n  }\n  .popup-pay-type {\n    padding-top: 40rpx;\n    .pay-title {\n      display: none;\n    }\n    .pay-tip {\n      display: none;\n    }\n    .pay-type-chi {\n      margin-bottom: 40rpx;\n    }\n  }\n  .site-submit .qui-button--button {\n    position: absolute;\n    top: 20rpx;\n    right: 24rpx;\n  }\n  .header {\n    height: auto;\n    margin-bottom: 30rpx;\n    background: --color(--qui-BG-2);\n    border-bottom: 2rpx solid --color(--qui-BOR-ED);\n    .circleDet {\n      padding: 60rpx 30rpx;\n      opacity: 1;\n    }\n    .circleDet-txt {\n      color: --color(--qui-FC-34);\n      opacity: 0.49;\n    }\n    .logo {\n      height: 75rpx;\n      padding-top: 71rpx;\n    }\n    .circleDet-num,\n    .circleDet-share {\n      color: --color(--qui-FC-333);\n    }\n  }\n  .themeCount .themeItem__footer {\n    display: none;\n  }\n  .themeCount .addAsk {\n    top: 0;\n  }\n  .themeCount .themeItem {\n    padding-left: 0;\n    margin: 0;\n    border-top: none;\n  }\n  .site-theme__last {\n    .themeItem {\n      border-bottom: none;\n    }\n  }\n}\n// 微信二维码弹框\n.code-content {\n  position: fixed;\n  top: 10%;\n  left: 11%;\n  z-index: 22;\n  display: flex;\n  flex-direction: column;\n  width: 78%;\n  padding: 40rpx;\n  background: --color(--qui-BG-FFF);\n  border-radius: 16rpx;\n  box-sizing: border-box;\n  .code-title {\n    text-align: center;\n  }\n  .code-pay-money {\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    padding-top: 36rpx;\n    padding-bottom: 36rpx;\n    font-size: 70rpx;\n    .code-yuan {\n      font-size: 48rpx;\n      line-height: 66rpx;\n    }\n  }\n}\n.code-type-box {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  padding: 24rpx 0 34rpx;\n  line-height: 36rpx;\n  border-top: 1px solid --color(--qui-BG-ED);\n  .code-type-tit {\n    color: --color(--qui-FC-AAA);\n  }\n  .code-type {\n    display: flex;\n    flex-direction: row;\n    .code-type-icon {\n      font-size: 36rpx;\n    }\n    .code-type-text {\n      padding-left: 12rpx;\n    }\n  }\n}\n.code-img {\n  align-self: center;\n  width: 380rpx;\n  height: 380rpx;\n}\n.code-tip {\n  padding: 14rpx 0 20rpx;\n}\n//下面部分样式\n.site-invite {\n  padding: 30rpx 60rpx;\n  text-align: center;\n  &__detail__bold {\n    margin: 0 5rpx;\n    font-weight: bold;\n  }\n  &__detail {\n    width: 90%;\n    font-size: $fg-f4;\n  }\n}\n.site-submit {\n  position: fixed;\n  bottom: 0;\n  z-index: 100;\n  width: 100%;\n  height: 130rpx;\n  padding: 20rpx 24rpx;\n  background: --color(--qui-BG-2);\n  box-shadow: 0rpx -3rpx 6rpx rgba(0, 0, 0, 0.05);\n  box-sizing: border-box;\n  &__price {\n    margin-top: 10rpx;\n    font-size: $fg-f5;\n    color: --color(--qui-BG-FF);\n  }\n  &__expire {\n    font-size: $fg-f2;\n    color: --color(--qui-FC-333);\n  }\n}\n</style>\n","import mod from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./info.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./info.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1636533854889\n      var cssReload = require(\"G:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}