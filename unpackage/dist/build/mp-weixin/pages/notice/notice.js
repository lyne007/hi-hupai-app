(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/notice/notice"],{"2d6d":function(t,e,n){"use strict";n.r(e);var i=n("cb95"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},"780c":function(t,e,n){"use strict";n.r(e);var i=n("fb26"),o=n("2d6d");for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("d6ad");var r,c=n("f0c5"),u=Object(c["a"])(o["default"],i["b"],i["c"],!1,null,"090ca939",null,!1,i["a"],r);e["default"]=u.exports},"7cae":function(t,e,n){"use strict";(function(t){n("3768");i(n("66fd"));var e=i(n("780c"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},cb95:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("4317");function o(t){return u(t)||c(t)||r(t)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(t,e){if(t){if("string"===typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}function c(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function u(t){if(Array.isArray(t))return s(t)}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var l=function(){n.e("components/uni-popup/uni-popup-dialog").then(function(){return resolve(n("8b8a"))}.bind(null,n)).catch(n.oe)},d={components:{uniPopupDialog:l},data:function(){return{navTitle:"",loadingType:"more",pageSize:20,pageNum:1,noticeList:[],type:"",noticeId:0}},onLoad:function(e){var n=e.title,i=e.type,o=e.unReadNum;this.type=i,this.navTitle=n,parseInt(o,10)>0&&(this.navTitle=this.i18n.t("notice.item",{title:n,unReadNum:o})),t.setNavigationBarTitle({title:this.navTitle}),this.getNotices(i)},methods:{getNotices:function(e){var n=this,a={"page[number]":this.pageNum,"page[limit]":this.pageSize,"filter[type]":e};this.$store.commit("jv/clearRecords",{_jv:{type:"notification"}}),this.$store.dispatch("jv/get",["notification",{params:a}]).then((function(e){if(e&&e._jv){delete e._jv;for(var a=0;a<e.length;a+=1)e[a].username=e[a].user_name,e[a].avatarUrl=e[a].user_avatar,e[a].created_at&&(e[a].time=(0,i.time2DateAndHM)(e[a].created_at)),e[a].thread_created_at&&(e[a].thread_time=(0,i.time2DateAndHM)(e[a].thread_created_at)),e[a].reply_post_created_at&&(e[a].reply_time=(0,i.time2DateAndHM)(e[a].reply_post_created_at)),"rewarded"===e[a].type&&e[a].amount&&(e[a].money="￥".concat(e[a].amount)),"withdrawal"===e[a].type&&e[a].cash_actual_amount&&(e[a].money="-￥".concat(e[a].cash_actual_amount));n.noticeList=[].concat(o(n.noticeList),o(e)),n.loadingType=e.length===n.pageSize?"more":"nomore",t.$emit("notiRead")}}))},pullDown:function(){"more"===this.loadingType&&(this.pageNum+=1,this.getNotices(this.type))},deleteNotice:function(t){this.noticeId=t,this.$refs.popTips.open()},handleCancel:function(){this.$refs.popTips.close()},handleOk:function(){var e=this;this.$refs.popTips.close(),this.$store.dispatch("jv/delete","notification/".concat(this.noticeId)).then((function(n){n&&(e.pageNum=1,e.noticeList=[],e.getNotices(e.type),t.showToast({title:"删除成功",duration:2e3}))}))}}};e.default=d}).call(this,n("543d")["default"])},d6ad:function(t,e,n){"use strict";var i=n("f268"),o=n.n(i);o.a},f268:function(t,e,n){},fb26:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var i={quiPage:function(){return Promise.all([n.e("common/vendor"),n.e("components/qui-page/qui-page")]).then(n.bind(null,"2bf0"))},quiNotification:function(){return n.e("components/qui-notification/qui-notification").then(n.bind(null,"0bcc"))},quiLoadMore:function(){return n.e("components/qui-load-more/qui-load-more").then(n.bind(null,"80d7"))},uniPopup:function(){return n.e("components/uni-popup/uni-popup").then(n.bind(null,"f1be"))}},o=function(){var t=this,e=t.$createElement,n=(t._self._c,t.i18n.t("core.deleteNewsSure"));t.$mp.data=Object.assign({},{$root:{g0:n}})},a=[]}},[["7cae","common/runtime","common/vendor"]]]);