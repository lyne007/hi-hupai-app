(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/wechat"],{"118f":function(e,t,o){"use strict";o.r(t);var r=o("9b69"),a=o("ee90");for(var n in a)"default"!==n&&function(e){o.d(t,e,(function(){return a[e]}))}(n);var i,s=o("f0c5"),u=Object(s["a"])(a["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],i);t["default"]=u.exports},"68ca":function(e,t,o){"use strict";(function(e){o("3768");r(o("66fd"));var t=r(o("118f"));function r(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,o("543d")["createPage"])},"9b69":function(e,t,o){"use strict";o.d(t,"b",(function(){return a})),o.d(t,"c",(function(){return n})),o.d(t,"a",(function(){return r}));var r={quiPage:function(){return Promise.all([o.e("common/vendor"),o.e("components/qui-page/qui-page")]).then(o.bind(null,"2bf0"))}},a=function(){var e=this,t=e.$createElement;e._self._c},n=[]},ceaa:function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(o("245a")),a=u(o("8605")),n=u(o("4122")),i=u(o("412c")),s=o("0301");function u(e){return e&&e.__esModule?e:{default:e}}var d={mixins:[r.default,a.default,n.default,i.default],data:function(){return{state:!0}},onLoad:function(e){},methods:{wxLogin:function(t){var o=this;this.$store.dispatch("session/noSenseh5Login",t).then((function(t){if(t&&t.data&&t.data.data&&t.data.data.id){if(o.logind(),o.forums&&o.forums.set_site&&o.forums.set_site.site_mode!==s.SITE_PAY){e.getStorage({key:"page",success:function(t){e.redirectTo({url:t.data})}});var r=e.getStorageSync("isBind");r?e.showToast({title:"绑定成功",duration:2e3}):e.showToast({title:"登录成功",duration:2e3})}else if(o.forums&&o.forums.set_site&&o.forums.set_site.site_mode===s.SITE_PAY&&o.user&&!o.user.paid){e.redirectTo({url:"/pages/site/info"});var a=e.getStorageSync("isBind");a?e.showToast({title:"绑定成功",duration:2e3}):e.showToast({title:"登录成功",duration:2e3})}}else if(t&&t.data&&t.data.errors){if("no_bind_user"===t.data.errors[0].code){var n={headimgurl:t.data.errors[0].user.headimgurl,username:t.data.errors[0].user.nickname};e.setStorageSync("token",t.data.errors[0].token),e.setStorageSync("userInfo",n),o.jump2RegisterBindPage()}"permission_denied"===t.data.errors[0].code&&o.login(),"register_validate"===t.data.errors[0].code&&e.showToast({icon:"none",title:o.i18n.t("core.register_validate"),duration:2e3}),"validate_reject"===t.data.errors[0].code&&e.showToast({icon:"none",title:o.i18n.t("core.validate_reject"),duration:2e3}),"register_close"===t.data.errors[0].code&&e.showToast({icon:"none",title:o.i18n.t("core.register_close"),duration:2e3}),"ban_user"===t.data.errors[0].code&&e.showToast({icon:"none",title:o.i18n.t("core.ban_user"),duration:2e3}),"account_has_been_bound"===t.data.errors[0].code&&e.getStorage({key:"page",success:function(t){e.redirectTo({url:t.data}),setTimeout((function(){e.showToast({icon:"none",title:"用户或微信已绑定",duration:2e3})}),1e3)}}),"rebind_mp_wechat"===t.data.errors[0].code&&(e.setStorageSync("token",t.data.errors[0].token),e.redirectTo({url:"/pages/user/login-bind"}))}})).catch((function(e){console.log(e)}))}}};t.default=d}).call(this,o("543d")["default"])},ee90:function(e,t,o){"use strict";o.r(t);var r=o("ceaa"),a=o.n(r);for(var n in r)"default"!==n&&function(e){o.d(t,e,(function(){return r[e]}))}(n);t["default"]=a.a}},[["68ca","common/runtime","common/vendor"]]]);