(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/qui-upload-file/qui-upload-file"],{3255:function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return u})),i.d(t,"a",(function(){return n}));var n={quiIcon:function(){return i.e("components/qui-icon/qui-icon").then(i.bind(null,"5d1d"))},quiToast:function(){return i.e("components/qui-toast/qui-toast").then(i.bind(null,"6512"))}},a=function(){var e=this,t=e.$createElement,i=(e._self._c,e.i18n.t("profile.uploadFile"));e.$mp.data=Object.assign({},{$root:{g0:i}})},u=[]},"48d5b":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(i("8605"));function a(e){return e&&e.__esModule?e:{default:e}}var u={name:"QuiUploader",mixins:[n.default],props:{url:{default:"",type:String},fileFormat:{default:"",type:String},fileSize:{default:"",type:String},maxLength:{default:3,type:Number},attachmentList:{type:Array,default:function(){return[]}},header:{type:Object,default:function(){return{}}}},data:function(){var e=!0;return{fileList:[],showAdd:e,currentIndex:0}},watch:{fileFormat:{handler:function(e){this.fileFormat=e},deep:!0,immediate:!0},fileSize:{handler:function(e){this.fileList=e},deep:!0,immediate:!0},attachmentList:{handler:function(e){var t=[];e.forEach((function(e){t.push({attributes:{fileName:e.fileName,url:e.url},id:e._jv.id})})),this.fileList=t},deep:!0,immediate:!0}},mounted:function(){},methods:{uploadBtn:function(){var t=this;wx.chooseMessageFile({count:1,type:"all",success:function(i){var n={name:i.tempFiles[0].name,size:i.tempFiles[0].size};t.verificateFile(n,t)&&(e.showLoading(),wx.uploadFile({url:t.url,name:"file",timeout:3e4,header:t.header,formData:{name:n.name,type:0},filePath:i.tempFiles[0].path,success:function(i){var a=i.statusCode,u=JSON.parse(i.data).data;if(a>=200&&a<300)t.fileList.push({attributes:{fileName:n.name,url:u.attributes.url},id:u.id});else{var r=JSON.parse(i.data).errors[0].code;t.$refs.toast.show({message:r})}e.hideLoading()},fail:function(i){t.$refs.toast.show({message:i}),e.hideLoading()}}))}})},verificateFile:function(e,t){var i=e.name,n=i.substring(i.lastIndexOf(".")+1);if(t.fileFormat&&-1===this.fileFormat.indexOf(n)){var a=this.i18n.t("profile.pleaseselect")+t.fileFormat+this.i18n.t("profile.fileformat");return t.$refs.toast.show({message:a}),!1}return!(t.fileSize&&(e.size/1024).toFixed(0)>1e3*parseInt(t.fileSize,10))||(t.$refs.toast.show({message:"".concat(this.i18n.t("profile.filesizecannotexceed")).concat(t.fileSize,"M")}),!1)},deleteItem:function(e){this.fileList.splice(e,1)},getValue:function(){return this.fileList},setValue:function(e){this.fileList=e}}};t.default=u}).call(this,i("543d")["default"])},9820:function(e,t,i){"use strict";i.r(t);var n=i("48d5b"),a=i.n(n);for(var u in n)"default"!==u&&function(e){i.d(t,e,(function(){return n[e]}))}(u);t["default"]=a.a},d305:function(e,t,i){"use strict";var n=i("d928"),a=i.n(n);a.a},d928:function(e,t,i){},da15:function(e,t,i){"use strict";i.r(t);var n=i("3255"),a=i("9820");for(var u in a)"default"!==u&&function(e){i.d(t,e,(function(){return a[e]}))}(u);i("d305");var r,s=i("f0c5"),o=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"3ec9a7d3",null,!1,n["a"],r);t["default"]=o.exports}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/qui-upload-file/qui-upload-file-create-component',
    {
        'components/qui-upload-file/qui-upload-file-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("da15"))
        })
    },
    [['components/qui-upload-file/qui-upload-file-create-component']]
]);
